<!DOCTYPE html>
<html>
	<head>
		{% load static %}
        {% load my_filters %}
		<meta charset="UTF-8"/>
		<title>Registrar Horario</title>

		<link rel="icon" href="{% static "/imagenes/logo.PNG"%}"/>
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css"/>

		<script src="https://cdn.jsdelivr.net/npm/sweetalert2/dist/sweetalert2.all.min.js"></script>
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2/dist/sweetalert2.min.css">

		<!-- JavaScript --><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css"/>
		<script src="//cdn.jsdelivr.net/npm/alertifyjs@1.13.1/build/alertify.min.js"></script>

		<!-- CSS -->
		<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/alertifyjs@1.13.1/build/css/alertify.min.css"/>
		<!-- Default theme -->
		<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/alertifyjs@1.13.1/build/css/themes/default.min.css"/>
		<!-- Semantic UI theme -->
		<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/alertifyjs@1.13.1/build/css/themes/semantic.min.css"/>
		<!-- Bootstrap theme -->
		<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/alertifyjs@1.13.1/build/css/themes/bootstrap.min.css"/>
		<script>
            const botonCerrarSesion = () => {
                Swal.fire({
					title: '¿Esta Seguro?',
					text: "Debera iniciar sesion nuevamente!",
					icon: 'question',
					showCancelButton: true,
					confirmButtonColor: '#3085d6',
					cancelButtonColor: '#d33',
					confirmButtonText: 'Aceptar',
					cancelButtonText: 'Cancelar'
				  }).then((result) => {
					if (result.isConfirmed) {
						window.location.href = "/logout";
					}
				  })
            }
			const botonEliminar = (id) => {
                Swal.fire({
					title: '¿Esta Seguro?',
					text: "Desea Eliminar los datos del Profesor?",
					icon: 'question',
					showCancelButton: true,
					confirmButtonColor: '#3085d6',
					cancelButtonColor: '#d33',
					confirmButtonText: 'Aceptar',
					cancelButtonText: 'Cancelar'
				  }).then((result) => {
					if (result.isConfirmed) {
						window.location.href = "/eliminar_hor/"+id;
					}
				  })
            }
        </script>
	</head>
<body class="bg-white">

	<div>
		<nav class="navbar navbar-expand-lg bg-danger" style="width:100%%" />
		  	<div class="container-fluid">

				<a href="/menu_secretaria">
					<img src="{% static "/imagenes/imagen1.PNG"%}" width="250px" style="margin-right:10px;" alt="No Encontrada"/>
				</a>

				<span class="navbar-brand text-white" style="margin-right:50px">Menu {{ nomUsuario }}</span>

				<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>
				<div class="collapse navbar-collapse" id="navbarNavAltMarkup">
					<div class="navbar-nav">
						<a class="nav-link text-center text-white" href="/menu_secretaria">Inicio</a>
						<a class="nav-link text-center text-white" href="/registrar_profesor" style="border-left: 1px solid rgb(255, 255, 255);">Registrar Profesores</a>
                        <a class="nav-link text-center text-white" href="/registrar_asignaturas" style="border-left: 1px solid rgb(255, 255, 255);">Registrar Asignaturas</a>
                        <a class="nav-link text-center text-white" href="/registrar_horarios" style="border-left: 1px solid rgb(255, 255, 255);">Crear Horarios Cursos</a>
						<a class="nav-link text-center text-white" href="/visualizar_horarios" style="border-left: 1px solid rgb(255, 255, 255);">Horarios Cursos</a>
                        <a class="nav-link text-center text-white" href="/visualizar_horarios_profesores" style="border-left: 1px solid rgb(255, 255, 255);">Horarios Profesores</a>
						<a class="nav-link text-center text-white" href="/visuzalizar_disponibilidad" style="border-left: 1px solid rgb(255, 255, 255);">Listar Disponibilidad</a>
						<a class="nav-link text-center text-white" href="#" onClick="botonCerrarSesion()" style="border-left: 1px solid rgb(255, 255, 255);">Cerrar Sesión</a>
					</div>
				</div>
		  	</div>
		</nav>

	</div>
	<br>
	<br>
	<br>
	<div style="width:50%; margin:auto">
        <center>
            <h3>Horario de {{hor.0.curso.nombre}}</h3>
        </center>
    </div>
	<br>
	<br>
	<table class="table table-hover bg-white table-bordered" style="width:70%; margin:auto;" border>
		<thead class="text-center">
			<tr class="align-middle" style="background-color: yellow">
				<th style="background-color: yellow">BLOQUE</th>
				<th style="background-color: yellow">LUNES</th>
				<th style="background-color: yellow">MARTES</th>
				<th style="background-color: yellow">MIERCOLES</th>
				<th style="background-color: yellow">JUEVES</th>
				<th style="background-color: yellow">VIERNES</th>
			</tr>
		</thead>
		<tbody class="text-center">
			<tr class="align-middle">
				<td style="background-color: yellow">1</td>
				<td>
					{%for a in hor%}
						{%if a.bloque == 1 and a.dia == "LUNES"%}
							{%if a.asignatura_id == 0 or a.asignatura_id == NULL%}
								<!-- Button trigger modal -->
								<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
									Sin Registro
								</button>

								<!-- Modal -->
								<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
									<div class="modal-dialog">
										<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post">
											{% csrf_token %}
											<div class="modal-content">
												<div class="modal-header">
													<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
													<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
												</div>
												<div class="modal-body">
													<div style="margin:auto">
														<center>
															<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
														</center>
													</div>
													<br>
													<div style="margin:auto">


														<center>
															<select name="opasg" id="asign" onchange="actualizarOpciones()" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.asignatura_id == NULL%}
																	<option value="" selected/>Seleccione Asignatura</option>
																	{%for x in asg%}
																		{%if a.curso_id == x.curso_id%}
																			<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																		{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
															<br>
															<select name="oppro" id="profe" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.profesor_id == NULL%}
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
														</center>

													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
												</div>
											</div>
										</form>
									</div>
								</div>
							{%else%}
								<!-- Button trigger modal -->
								<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
									{{a.asignatura.nombre}} <br>({{a.asignatura.codigo}})<br>({{a.profesor.nombre}} {{a.profesor.apellido}})
								</button>

								<!-- Modal -->
								<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
									<div class="modal-dialog">
										<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post" enctype="multipart/form-data">
											<div class="modal-content">
												<div class="modal-header">
													<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
													<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
												</div>
												<div class="modal-body">
													<div style="margin:auto">
														<center>
															<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
														</center>
													</div>
													<br>
													<div style="margin:auto">

														{% csrf_token %}
														<center>
															<select name="opasg" id="asgn" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																<option value="">Seleccione Asignatura</option>
																{%for x in asg%}
																	{%if a.curso_id == x.curso_id%}
																		{%if a.asignatura_id == x.id%}
																			<option value="{{x.id}}" selected/>{{x.nombre}} ({{x.codigo}})</option>
																		{%else%}
																			<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																		{%endif%}
																	{%endif%}
																{%endfor%}
															</select>
															<br>
															<select name="oppro" id="profe" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>

        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0  or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																
															</select>
														</center>
													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
												</div>
											</div>
										</form>
									</div>
								</div>
							{%endif%}
						{%endif%}
					{%endfor%}
				</td>
				<td>
					{%for a in hor%}
						{%if a.bloque == 1 and a.dia == "MARTES"%}
							{%if a.asignatura_id == 0 or a.asignatura_id == NULL%}
								<!-- Button trigger modal -->
								<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
									Sin Registro
								</button>

								<!-- Modal -->
								<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
									<div class="modal-dialog">
										<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post">
											{% csrf_token %}
											<div class="modal-content">
												<div class="modal-header">
													<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
													<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
												</div>
												<div class="modal-body">
													<div style="margin:auto">
														<center>
															<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
														</center>
													</div>
													<br>
													<div style="margin:auto">


														<center>
															<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.asignatura_id == NULL%}
																	<option value="" selected/>Seleccione Asignatura</option>
																	{%for x in asg%}
																		{%if a.curso_id == x.curso_id%}
																			<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																		{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
															<br>
															<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.profesor_id == NULL%}
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 %}
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 %}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
														</center>

													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
												</div>
											</div>
										</form>
									</div>
								</div>
							{%else%}
								<!-- Button trigger modal -->
								<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
									{{a.asignatura.nombre}} <br>({{a.asignatura.codigo}})<br>({{a.profesor.nombre}} {{a.profesor.apellido}})
								</button>

								<!-- Modal -->
								<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
									<div class="modal-dialog">
										<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post" enctype="multipart/form-data">
											<div class="modal-content">
												<div class="modal-header">
													<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
													<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
												</div>
												<div class="modal-body">
													<div style="margin:auto">
														<center>
															<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
														</center>
													</div>
													<br>
													<div style="margin:auto">

														{% csrf_token %}
														<center>
															<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																<option value="">Seleccione Asignatura</option>
																{%for x in asg%}
																	{%if a.curso_id == x.curso_id%}
																		{%if a.asignatura_id == x.id%}
																			<option value="{{x.id}}" selected/>{{x.nombre}} ({{x.codigo}})</option>
																		{%else%}
																			<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																		{%endif%}
																	{%endif%}
																{%endfor%}
															</select>
															<br>
															<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>

        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																
															</select>
														</center>
													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
												</div>
											</div>
										</form>
									</div>
								</div>
							{%endif%}
						{%endif%}
					{%endfor%}
				</td>
				<td>
					{%for a in hor%}
						{%if a.bloque == 1 and a.dia == "MIERCOLES"%}
							{%if a.asignatura_id == 0 or a.asignatura_id == NULL%}
								<!-- Button trigger modal -->
								<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
									Sin Registro
								</button>

								<!-- Modal -->
								<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
									<div class="modal-dialog">
										<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post">
											{% csrf_token %}
											<div class="modal-content">
												<div class="modal-header">
													<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
													<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
												</div>
												<div class="modal-body">
													<div style="margin:auto">
														<center>
															<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
														</center>
													</div>
													<br>
													<div style="margin:auto">


														<center>
															<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.asignatura_id == NULL%}
																	<option value="" selected/>Seleccione Asignatura</option>
																	{%for x in asg%}
																		{%if a.curso_id == x.curso_id%}
																			<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																		{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
															<br>
															<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.profesor_id == NULL%}
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 %}
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
														</center>

													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
												</div>
											</div>
										</form>
									</div>
								</div>
							{%else%}
								<!-- Button trigger modal -->
								<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
									{{a.asignatura.nombre}} <br>({{a.asignatura.codigo}})<br>({{a.profesor.nombre}} {{a.profesor.apellido}})
								</button>

								<!-- Modal -->
								<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
									<div class="modal-dialog">
										<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post" enctype="multipart/form-data">
											<div class="modal-content">
												<div class="modal-header">
													<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
													<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
												</div>
												<div class="modal-body">
													<div style="margin:auto">
														<center>
															<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
														</center>
													</div>
													<br>
													<div style="margin:auto">

														{% csrf_token %}
														<center>
															<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																<option value="">Seleccione Asignatura</option>
																{%for x in asg%}
																	{%if a.curso_id == x.curso_id%}
																		{%if a.asignatura_id == x.id%}
																			<option value="{{x.id}}" selected/>{{x.nombre}} ({{x.codigo}})</option>
																		{%else%}
																			<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																		{%endif%}
																	{%endif%}
																{%endfor%}
															</select>
															<br>
															<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>

        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																
															</select>
														</center>
													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
												</div>
											</div>
										</form>
									</div>
								</div>
							{%endif%}
						{%endif%}
					{%endfor%}
				</td>
				<td>
					{%for a in hor%}
						{%if a.bloque == 1 and a.dia == "JUEVES"%}
							{%if a.asignatura_id == 0 or a.asignatura_id == NULL%}
								<!-- Button trigger modal -->
								<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
									Sin Registro
								</button>

								<!-- Modal -->
								<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
									<div class="modal-dialog">
										<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post">
											{% csrf_token %}
											<div class="modal-content">
												<div class="modal-header">
													<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
													<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
												</div>
												<div class="modal-body">
													<div style="margin:auto">
														<center>
															<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
														</center>
													</div>
													<br>
													<div style="margin:auto">


														<center>
															<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.asignatura_id == NULL%}
																	<option value="" selected/>Seleccione Asignatura</option>
																	{%for x in asg%}
																		{%if a.curso_id == x.curso_id%}
																			<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																		{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
															<br>
															<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.profesor_id == NULL%}
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 %}
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
														</center>

													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
												</div>
											</div>
										</form>
									</div>
								</div>
							{%else%}
								<!-- Button trigger modal -->
								<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
									{{a.asignatura.nombre}} <br>({{a.asignatura.codigo}})<br>({{a.profesor.nombre}} {{a.profesor.apellido}})
								</button>

								<!-- Modal -->
								<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
									<div class="modal-dialog">
										<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post" enctype="multipart/form-data">
											<div class="modal-content">
												<div class="modal-header">
													<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
													<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
												</div>
												<div class="modal-body">
													<div style="margin:auto">
														<center>
															<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
														</center>
													</div>
													<br>
													<div style="margin:auto">

														{% csrf_token %}
														<center>
															<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																<option value="">Seleccione Asignatura</option>
																{%for x in asg%}
																	{%if a.curso_id == x.curso_id%}
																		{%if a.asignatura_id == x.id%}
																			<option value="{{x.id}}" selected/>{{x.nombre}} ({{x.codigo}})</option>
																		{%else%}
																			<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																		{%endif%}
																	{%endif%}
																{%endfor%}
															</select>
															<br>
															<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>

        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																
															</select>
														</center>
													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
												</div>
											</div>
										</form>
									</div>
								</div>
							{%endif%}
						{%endif%}
					{%endfor%}
				</td>
				<td>
					{%for a in hor%}
						{%if a.bloque == 1 and a.dia == "VIERNES"%}
							{%if a.asignatura_id == 0 or a.asignatura_id == NULL%}
								<!-- Button trigger modal -->
								<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
									Sin Registro
								</button>

								<!-- Modal -->
								<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
									<div class="modal-dialog">
										<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post">
											{% csrf_token %}
											<div class="modal-content">
												<div class="modal-header">
													<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
													<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
												</div>
												<div class="modal-body">
													<div style="margin:auto">
														<center>
															<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
														</center>
													</div>
													<br>
													<div style="margin:auto">


														<center>
															<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.asignatura_id == NULL%}
																	<option value="" selected/>Seleccione Asignatura</option>
																	{%for x in asg%}
																		{%if a.curso_id == x.curso_id%}
																			<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																		{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
															<br>
															<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.profesor_id == NULL%}
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 %}
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
														</center>

													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
												</div>
											</div>
										</form>
									</div>
								</div>
							{%else%}
								<!-- Button trigger modal -->
								<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
									{{a.asignatura.nombre}} <br>({{a.asignatura.codigo}})<br>({{a.profesor.nombre}} {{a.profesor.apellido}})
								</button>

								<!-- Modal -->
								<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
									<div class="modal-dialog">
										<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post" enctype="multipart/form-data">
											<div class="modal-content">
												<div class="modal-header">
													<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
													<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
												</div>
												<div class="modal-body">
													<div style="margin:auto">
														<center>
															<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
														</center>
													</div>
													<br>
													<div style="margin:auto">

														{% csrf_token %}
														<center>
															<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																<option value="">Seleccione Asignatura</option>
																{%for x in asg%}
																	{%if a.curso_id == x.curso_id%}
																		{%if a.asignatura_id == x.id%}
																			<option value="{{x.id}}" selected/>{{x.nombre}} ({{x.codigo}})</option>
																		{%else%}
																			<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																		{%endif%}
																	{%endif%}
																{%endfor%}
															</select>
															<br>
															<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>

        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																
															</select>
														</center>
													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
												</div>
											</div>
										</form>
									</div>
								</div>
							{%endif%}
						{%endif%}
					{%endfor%}
				</td>
			</tr>
			<tr class="align-middle">
				<td style="background-color: yellow">2</td>
				<td>
					{%for a in hor%}
						{%if a.bloque == 2 and a.dia == "LUNES"%}
							{%if a.asignatura_id == 0 or a.asignatura_id == NULL%}
								<!-- Button trigger modal -->
								<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
									Sin Registro
								</button>

								<!-- Modal -->
								<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
									<div class="modal-dialog">
										<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post">
											{% csrf_token %}
											<div class="modal-content">
												<div class="modal-header">
													<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
													<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
												</div>
												<div class="modal-body">
													<div style="margin:auto">
														<center>
															<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
														</center>
													</div>
													<br>
													<div style="margin:auto">


														<center>
															<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.asignatura_id == NULL%}
																	<option value="" selected/>Seleccione Asignatura</option>
																	{%for x in asg%}
																		{%if a.curso_id == x.curso_id%}
																			<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																		{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
															<br>
															<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.profesor_id == NULL%}
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 %}
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
														</center>

													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
												</div>
											</div>
										</form>
									</div>
								</div>
							{%else%}
								<!-- Button trigger modal -->
								<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
									{{a.asignatura.nombre}} <br>({{a.asignatura.codigo}})<br>({{a.profesor.nombre}} {{a.profesor.apellido}})
								</button>

								<!-- Modal -->
								<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
									<div class="modal-dialog">
										<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post" enctype="multipart/form-data">
											<div class="modal-content">
												<div class="modal-header">
													<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
													<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
												</div>
												<div class="modal-body">
													<div style="margin:auto">
														<center>
															<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
														</center>
													</div>
													<br>
													<div style="margin:auto">

														{% csrf_token %}
														<center>
															<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																<option value="">Seleccione Asignatura</option>
																{%for x in asg%}
																	{%if a.curso_id == x.curso_id%}
																		{%if a.asignatura_id == x.id%}
																			<option value="{{x.id}}" selected/>{{x.nombre}} ({{x.codigo}})</option>
																		{%else%}
																			<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																		{%endif%}
																	{%endif%}
																{%endfor%}
															</select>
															<br>
															<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>

        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																
															</select>
														</center>
													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
												</div>
											</div>
										</form>
									</div>
								</div>
							{%endif%}
						{%endif%}
					{%endfor%}
				</td>
				<td>
					{%for a in hor%}
						{%if a.bloque == 2 and a.dia == "MARTES"%}
							{%if a.asignatura_id == 0 or a.asignatura_id == NULL%}
								<!-- Button trigger modal -->
								<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
									Sin Registro
								</button>

								<!-- Modal -->
								<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
									<div class="modal-dialog">
										<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post">
											{% csrf_token %}
											<div class="modal-content">
												<div class="modal-header">
													<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
													<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
												</div>
												<div class="modal-body">
													<div style="margin:auto">
														<center>
															<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
														</center>
													</div>
													<br>
													<div style="margin:auto">


														<center>
															<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.asignatura_id == NULL%}
																	<option value="" selected/>Seleccione Asignatura</option>
																	{%for x in asg%}
																		{%if a.curso_id == x.curso_id%}
																			<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																		{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
															<br>
															<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.profesor_id == NULL%}
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 %}
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 %}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
														</center>

													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
												</div>
											</div>
										</form>
									</div>
								</div>
							{%else%}
								<!-- Button trigger modal -->
								<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
									{{a.asignatura.nombre}} <br>({{a.asignatura.codigo}})<br>({{a.profesor.nombre}} {{a.profesor.apellido}})
								</button>

								<!-- Modal -->
								<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
									<div class="modal-dialog">
										<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post" enctype="multipart/form-data">
											<div class="modal-content">
												<div class="modal-header">
													<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
													<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
												</div>
												<div class="modal-body">
													<div style="margin:auto">
														<center>
															<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
														</center>
													</div>
													<br>
													<div style="margin:auto">

														{% csrf_token %}
														<center>
															<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																<option value="">Seleccione Asignatura</option>
																{%for x in asg%}
																	{%if a.curso_id == x.curso_id%}
																		{%if a.asignatura_id == x.id%}
																			<option value="{{x.id}}" selected/>{{x.nombre}} ({{x.codigo}})</option>
																		{%else%}
																			<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																		{%endif%}
																	{%endif%}
																{%endfor%}
															</select>
															<br>
															<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>

        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																
															</select>
														</center>
													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
												</div>
											</div>
										</form>
									</div>
								</div>
							{%endif%}
						{%endif%}
					{%endfor%}
				</td>
				<td>
					{%for a in hor%}
						{%if a.bloque == 2 and a.dia == "MIERCOLES"%}
							{%if a.asignatura_id == 0 or a.asignatura_id == NULL%}
								<!-- Button trigger modal -->
								<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
									Sin Registro
								</button>

								<!-- Modal -->
								<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
									<div class="modal-dialog">
										<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post">
											{% csrf_token %}
											<div class="modal-content">
												<div class="modal-header">
													<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
													<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
												</div>
												<div class="modal-body">
													<div style="margin:auto">
														<center>
															<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
														</center>
													</div>
													<br>
													<div style="margin:auto">


														<center>
															<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.asignatura_id == NULL%}
																	<option value="" selected/>Seleccione Asignatura</option>
																	{%for x in asg%}
																		{%if a.curso_id == x.curso_id%}
																			<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																		{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
															<br>
															<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.profesor_id == NULL%}
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 %}
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
														</center>

													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
												</div>
											</div>
										</form>
									</div>
								</div>
							{%else%}
								<!-- Button trigger modal -->
								<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
									{{a.asignatura.nombre}} <br>({{a.asignatura.codigo}})<br>({{a.profesor.nombre}} {{a.profesor.apellido}})
								</button>

								<!-- Modal -->
								<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
									<div class="modal-dialog">
										<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post" enctype="multipart/form-data">
											<div class="modal-content">
												<div class="modal-header">
													<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
													<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
												</div>
												<div class="modal-body">
													<div style="margin:auto">
														<center>
															<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
														</center>
													</div>
													<br>
													<div style="margin:auto">

														{% csrf_token %}
														<center>
															<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																<option value="">Seleccione Asignatura</option>
																{%for x in asg%}
																	{%if a.curso_id == x.curso_id%}
																		{%if a.asignatura_id == x.id%}
																			<option value="{{x.id}}" selected/>{{x.nombre}} ({{x.codigo}})</option>
																		{%else%}
																			<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																		{%endif%}
																	{%endif%}
																{%endfor%}
															</select>
															<br>
															<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>

        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																
															</select>
														</center>
													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
												</div>
											</div>
										</form>
									</div>
								</div>
							{%endif%}
						{%endif%}
					{%endfor%}
				</td>
				<td>
					{%for a in hor%}
						{%if a.bloque == 2 and a.dia == "JUEVES"%}
							{%if a.asignatura_id == 0 or a.asignatura_id == NULL%}
								<!-- Button trigger modal -->
								<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
									Sin Registro
								</button>

								<!-- Modal -->
								<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
									<div class="modal-dialog">
										<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post">
											{% csrf_token %}
											<div class="modal-content">
												<div class="modal-header">
													<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
													<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
												</div>
												<div class="modal-body">
													<div style="margin:auto">
														<center>
															<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
														</center>
													</div>
													<br>
													<div style="margin:auto">


														<center>
															<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.asignatura_id == NULL%}
																	<option value="" selected/>Seleccione Asignatura</option>
																	{%for x in asg%}
																		{%if a.curso_id == x.curso_id%}
																			<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																		{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
															<br>
															<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.profesor_id == NULL%}
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 %}
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
														</center>

													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
												</div>
											</div>
										</form>
									</div>
								</div>
							{%else%}
								<!-- Button trigger modal -->
								<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
									{{a.asignatura.nombre}} <br>({{a.asignatura.codigo}})<br>({{a.profesor.nombre}} {{a.profesor.apellido}})
								</button>

								<!-- Modal -->
								<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
									<div class="modal-dialog">
										<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post" enctype="multipart/form-data">
											<div class="modal-content">
												<div class="modal-header">
													<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
													<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
												</div>
												<div class="modal-body">
													<div style="margin:auto">
														<center>
															<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
														</center>
													</div>
													<br>
													<div style="margin:auto">

														{% csrf_token %}
														<center>
															<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																<option value="">Seleccione Asignatura</option>
																{%for x in asg%}
																	{%if a.curso_id == x.curso_id%}
																		{%if a.asignatura_id == x.id%}
																			<option value="{{x.id}}" selected/>{{x.nombre}} ({{x.codigo}})</option>
																		{%else%}
																			<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																		{%endif%}
																	{%endif%}
																{%endfor%}
															</select>
															<br>
															<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>

        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																
															</select>
														</center>
													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
												</div>
											</div>
										</form>
									</div>
								</div>
							{%endif%}
						{%endif%}
					{%endfor%}
				</td>
				<td>
					{%for a in hor%}
						{%if a.bloque == 2 and a.dia == "VIERNES"%}
							{%if a.asignatura_id == 0 or a.asignatura_id == NULL%}
								<!-- Button trigger modal -->
								<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
									Sin Registro
								</button>

								<!-- Modal -->
								<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
									<div class="modal-dialog">
										<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post">
											{% csrf_token %}
											<div class="modal-content">
												<div class="modal-header">
													<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
													<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
												</div>
												<div class="modal-body">
													<div style="margin:auto">
														<center>
															<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
														</center>
													</div>
													<br>
													<div style="margin:auto">


														<center>
															<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.asignatura_id == NULL%}
																	<option value="" selected/>Seleccione Asignatura</option>
																	{%for x in asg%}
																		{%if a.curso_id == x.curso_id%}
																			<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																		{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
															<br>
															<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.profesor_id == NULL%}
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 %}
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
														</center>

													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
												</div>
											</div>
										</form>
									</div>
								</div>
							{%else%}
								<!-- Button trigger modal -->
								<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
									{{a.asignatura.nombre}} <br>({{a.asignatura.codigo}})<br>({{a.profesor.nombre}} {{a.profesor.apellido}})
								</button>

								<!-- Modal -->
								<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
									<div class="modal-dialog">
										<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post" enctype="multipart/form-data">
											<div class="modal-content">
												<div class="modal-header">
													<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
													<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
												</div>
												<div class="modal-body">
													<div style="margin:auto">
														<center>
															<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
														</center>
													</div>
													<br>
													<div style="margin:auto">

														{% csrf_token %}
														<center>
															<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																<option value="">Seleccione Asignatura</option>
																{%for x in asg%}
																	{%if a.curso_id == x.curso_id%}
																		{%if a.asignatura_id == x.id%}
																			<option value="{{x.id}}" selected/>{{x.nombre}} ({{x.codigo}})</option>
																		{%else%}
																			<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																		{%endif%}
																	{%endif%}
																{%endfor%}
															</select>
															<br>
															<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>

        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																
															</select>
														</center>
													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
												</div>
											</div>
										</form>
									</div>
								</div>
							{%endif%}
						{%endif%}
					{%endfor%}
				</td>
			</tr>
			<tr class="align-middle">
				<td style="background-color: yellow">3</td>
				<td>
					{%for a in hor%}
						{%if a.bloque == 3 and a.dia == "LUNES"%}
							{%if a.asignatura_id == 0 or a.asignatura_id == NULL%}
								<!-- Button trigger modal -->
								<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
									Sin Registro
								</button>

								<!-- Modal -->
								<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
									<div class="modal-dialog">
										<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post">
											{% csrf_token %}
											<div class="modal-content">
												<div class="modal-header">
													<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
													<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
												</div>
												<div class="modal-body">
													<div style="margin:auto">
														<center>
															<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
														</center>
													</div>
													<br>
													<div style="margin:auto">


														<center>
															<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.asignatura_id == NULL%}
																	<option value="" selected/>Seleccione Asignatura</option>
																	{%for x in asg%}
																		{%if a.curso_id == x.curso_id%}
																			<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																		{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
															<br>
															<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.profesor_id == NULL%}
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 %}
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
														</center>

													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
												</div>
											</div>
										</form>
									</div>
								</div>
							{%else%}
								<!-- Button trigger modal -->
								<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
									{{a.asignatura.nombre}} <br>({{a.asignatura.codigo}})<br>({{a.profesor.nombre}} {{a.profesor.apellido}})
								</button>

								<!-- Modal -->
								<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
									<div class="modal-dialog">
										<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post" enctype="multipart/form-data">
											<div class="modal-content">
												<div class="modal-header">
													<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
													<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
												</div>
												<div class="modal-body">
													<div style="margin:auto">
														<center>
															<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
														</center>
													</div>
													<br>
													<div style="margin:auto">

														{% csrf_token %}
														<center>
															<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																<option value="">Seleccione Asignatura</option>
																{%for x in asg%}
																	{%if a.curso_id == x.curso_id%}
																		{%if a.asignatura_id == x.id%}
																			<option value="{{x.id}}" selected/>{{x.nombre}} ({{x.codigo}})</option>
																		{%else%}
																			<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																		{%endif%}
																	{%endif%}
																{%endfor%}
															</select>
															<br>
															<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>

        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																
															</select>
														</center>
													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
												</div>
											</div>
										</form>
									</div>
								</div>
							{%endif%}
						{%endif%}
					{%endfor%}
				</td>
				<td>
					{%for a in hor%}
						{%if a.bloque == 3 and a.dia == "MARTES"%}
							{%if a.asignatura_id == 0 or a.asignatura_id == NULL%}
								<!-- Button trigger modal -->
								<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
									Sin Registro
								</button>

								<!-- Modal -->
								<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
									<div class="modal-dialog">
										<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post">
											{% csrf_token %}
											<div class="modal-content">
												<div class="modal-header">
													<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
													<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
												</div>
												<div class="modal-body">
													<div style="margin:auto">
														<center>
															<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
														</center>
													</div>
													<br>
													<div style="margin:auto">


														<center>
															<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.asignatura_id == NULL%}
																	<option value="" selected/>Seleccione Asignatura</option>
																	{%for x in asg%}
																		{%if a.curso_id == x.curso_id%}
																			<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																		{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
															<br>
															<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.profesor_id == NULL%}
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 %}
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
														</center>

													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
												</div>
											</div>
										</form>
									</div>
								</div>
							{%else%}
								<!-- Button trigger modal -->
								<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
									{{a.asignatura.nombre}} <br>({{a.asignatura.codigo}})<br>({{a.profesor.nombre}} {{a.profesor.apellido}})
								</button>

								<!-- Modal -->
								<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
									<div class="modal-dialog">
										<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post" enctype="multipart/form-data">
											<div class="modal-content">
												<div class="modal-header">
													<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
													<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
												</div>
												<div class="modal-body">
													<div style="margin:auto">
														<center>
															<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
														</center>
													</div>
													<br>
													<div style="margin:auto">

														{% csrf_token %}
														<center>
															<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																<option value="">Seleccione Asignatura</option>
																{%for x in asg%}
																	{%if a.curso_id == x.curso_id%}
																		{%if a.asignatura_id == x.id%}
																			<option value="{{x.id}}" selected/>{{x.nombre}} ({{x.codigo}})</option>
																		{%else%}
																			<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																		{%endif%}
																	{%endif%}
																{%endfor%}
															</select>
															<br>
															<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>

        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																
															</select>
														</center>
													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
												</div>
											</div>
										</form>
									</div>
								</div>
							{%endif%}
						{%endif%}
					{%endfor%}
				</td>
				<td>
					{%for a in hor%}
						{%if a.bloque == 3 and a.dia == "MIERCOLES"%}
							{%if a.asignatura_id == 0 or a.asignatura_id == NULL%}
								<!-- Button trigger modal -->
								<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
									Sin Registro
								</button>

								<!-- Modal -->
								<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
									<div class="modal-dialog">
										<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post">
											{% csrf_token %}
											<div class="modal-content">
												<div class="modal-header">
													<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
													<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
												</div>
												<div class="modal-body">
													<div style="margin:auto">
														<center>
															<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
														</center>
													</div>
													<br>
													<div style="margin:auto">


														<center>
															<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.asignatura_id == NULL%}
																	<option value="" selected/>Seleccione Asignatura</option>
																	{%for x in asg%}
																		{%if a.curso_id == x.curso_id%}
																			<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																		{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
															<br>
															<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.profesor_id == NULL%}
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 %}
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
														</center>

													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
												</div>
											</div>
										</form>
									</div>
								</div>
							{%else%}
								<!-- Button trigger modal -->
								<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
									{{a.asignatura.nombre}} <br>({{a.asignatura.codigo}})<br>({{a.profesor.nombre}} {{a.profesor.apellido}})
								</button>

								<!-- Modal -->
								<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
									<div class="modal-dialog">
										<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post" enctype="multipart/form-data">
											<div class="modal-content">
												<div class="modal-header">
													<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
													<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
												</div>
												<div class="modal-body">
													<div style="margin:auto">
														<center>
															<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
														</center>
													</div>
													<br>
													<div style="margin:auto">

														{% csrf_token %}
														<center>
															<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																<option value="">Seleccione Asignatura</option>
																{%for x in asg%}
																	{%if a.curso_id == x.curso_id%}
																		{%if a.asignatura_id == x.id%}
																			<option value="{{x.id}}" selected/>{{x.nombre}} ({{x.codigo}})</option>
																		{%else%}
																			<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																		{%endif%}
																	{%endif%}
																{%endfor%}
															</select>
															<br>
															<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>

        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																
															</select>
														</center>
													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
												</div>
											</div>
										</form>
									</div>
								</div>
							{%endif%}
						{%endif%}
					{%endfor%}
				</td>
				<td>
					{%for a in hor%}
						{%if a.bloque == 3 and a.dia == "JUEVES"%}
							{%if a.asignatura_id == 0 or a.asignatura_id == NULL%}
								<!-- Button trigger modal -->
								<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
									Sin Registro
								</button>

								<!-- Modal -->
								<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
									<div class="modal-dialog">
										<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post">
											{% csrf_token %}
											<div class="modal-content">
												<div class="modal-header">
													<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
													<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
												</div>
												<div class="modal-body">
													<div style="margin:auto">
														<center>
															<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
														</center>
													</div>
													<br>
													<div style="margin:auto">


														<center>
															<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.asignatura_id == NULL%}
																	<option value="" selected/>Seleccione Asignatura</option>
																	{%for x in asg%}
																		{%if a.curso_id == x.curso_id%}
																			<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																		{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
															<br>
															<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.profesor_id == NULL%}
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 %}
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
														</center>

													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
												</div>
											</div>
										</form>
									</div>
								</div>
							{%else%}
								<!-- Button trigger modal -->
								<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
									{{a.asignatura.nombre}} <br>({{a.asignatura.codigo}})<br>({{a.profesor.nombre}} {{a.profesor.apellido}})
								</button>

								<!-- Modal -->
								<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
									<div class="modal-dialog">
										<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post" enctype="multipart/form-data">
											<div class="modal-content">
												<div class="modal-header">
													<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
													<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
												</div>
												<div class="modal-body">
													<div style="margin:auto">
														<center>
															<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
														</center>
													</div>
													<br>
													<div style="margin:auto">

														{% csrf_token %}
														<center>
															<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																<option value="">Seleccione Asignatura</option>
																{%for x in asg%}
																	{%if a.curso_id == x.curso_id%}
																		{%if a.asignatura_id == x.id%}
																			<option value="{{x.id}}" selected/>{{x.nombre}} ({{x.codigo}})</option>
																		{%else%}
																			<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																		{%endif%}
																	{%endif%}
																{%endfor%}
															</select>
															<br>
															<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>

        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																
															</select>
														</center>
													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
												</div>
											</div>
										</form>
									</div>
								</div>
							{%endif%}
						{%endif%}
					{%endfor%}
				</td>
				<td>
					{%for a in hor%}
						{%if a.bloque == 3 and a.dia == "VIERNES"%}
							{%if a.asignatura_id == 0 or a.asignatura_id == NULL%}
								<!-- Button trigger modal -->
								<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
									Sin Registro
								</button>

								<!-- Modal -->
								<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
									<div class="modal-dialog">
										<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post">
											{% csrf_token %}
											<div class="modal-content">
												<div class="modal-header">
													<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
													<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
												</div>
												<div class="modal-body">
													<div style="margin:auto">
														<center>
															<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
														</center>
													</div>
													<br>
													<div style="margin:auto">


														<center>
															<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.asignatura_id == NULL%}
																	<option value="" selected/>Seleccione Asignatura</option>
																	{%for x in asg%}
																		{%if a.curso_id == x.curso_id%}
																			<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																		{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
															<br>
															<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.profesor_id == NULL%}
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 %}
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
														</center>

													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
												</div>
											</div>
										</form>
									</div>
								</div>
							{%else%}
								<!-- Button trigger modal -->
								<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
									{{a.asignatura.nombre}} <br>({{a.asignatura.codigo}})<br>({{a.profesor.nombre}} {{a.profesor.apellido}})
								</button>

								<!-- Modal -->
								<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
									<div class="modal-dialog">
										<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post" enctype="multipart/form-data">
											<div class="modal-content">
												<div class="modal-header">
													<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
													<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
												</div>
												<div class="modal-body">
													<div style="margin:auto">
														<center>
															<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
														</center>
													</div>
													<br>
													<div style="margin:auto">

														{% csrf_token %}
														<center>
															<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																<option value="">Seleccione Asignatura</option>
																{%for x in asg%}
																	{%if a.curso_id == x.curso_id%}
																		{%if a.asignatura_id == x.id%}
																			<option value="{{x.id}}" selected/>{{x.nombre}} ({{x.codigo}})</option>
																		{%else%}
																			<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																		{%endif%}
																	{%endif%}
																{%endfor%}
															</select>
															<br>
															<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>

        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																
															</select>
														</center>
													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
												</div>
											</div>
										</form>
									</div>
								</div>
							{%endif%}
						{%endif%}
					{%endfor%}
				</td>
			</tr>
			<tr class="align-middle">
				<td style="background-color: yellow">4</td>
				<td>
					{%for a in hor%}
						{%if a.bloque == 4 and a.dia == "LUNES"%}
							{%if a.asignatura_id == 0 or a.asignatura_id == NULL%}
								<!-- Button trigger modal -->
								<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
									Sin Registro
								</button>

								<!-- Modal -->
								<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
									<div class="modal-dialog">
										<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post">
											{% csrf_token %}
											<div class="modal-content">
												<div class="modal-header">
													<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
													<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
												</div>
												<div class="modal-body">
													<div style="margin:auto">
														<center>
															<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
														</center>
													</div>
													<br>
													<div style="margin:auto">


														<center>
															<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.asignatura_id == NULL%}
																	<option value="" selected/>Seleccione Asignatura</option>
																	{%for x in asg%}
																		{%if a.curso_id == x.curso_id%}
																			<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																		{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
															<br>
															<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.profesor_id == NULL%}
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 %}
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
														</center>

													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
												</div>
											</div>
										</form>
									</div>
								</div>
							{%else%}
								<!-- Button trigger modal -->
								<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
									{{a.asignatura.nombre}} <br>({{a.asignatura.codigo}})<br>({{a.profesor.nombre}} {{a.profesor.apellido}})
								</button>

								<!-- Modal -->
								<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
									<div class="modal-dialog">
										<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post" enctype="multipart/form-data">
											<div class="modal-content">
												<div class="modal-header">
													<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
													<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
												</div>
												<div class="modal-body">
													<div style="margin:auto">
														<center>
															<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
														</center>
													</div>
													<br>
													<div style="margin:auto">

														{% csrf_token %}
														<center>
															<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																<option value="">Seleccione Asignatura</option>
																{%for x in asg%}
																	{%if a.curso_id == x.curso_id%}
																		{%if a.asignatura_id == x.id%}
																			<option value="{{x.id}}" selected/>{{x.nombre}} ({{x.codigo}})</option>
																		{%else%}
																			<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																		{%endif%}
																	{%endif%}
																{%endfor%}
															</select>
															<br>
															<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>

        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																
															</select>
														</center>
													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
												</div>
											</div>
										</form>
									</div>
								</div>
							{%endif%}
						{%endif%}
					{%endfor%}
				</td>
				<td>
					{%for a in hor%}
						{%if a.bloque == 4 and a.dia == "MARTES"%}
							{%if a.asignatura_id == 0 or a.asignatura_id == NULL%}
								<!-- Button trigger modal -->
								<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
									Sin Registro
								</button>

								<!-- Modal -->
								<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
									<div class="modal-dialog">
										<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post">
											{% csrf_token %}
											<div class="modal-content">
												<div class="modal-header">
													<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
													<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
												</div>
												<div class="modal-body">
													<div style="margin:auto">
														<center>
															<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
														</center>
													</div>
													<br>
													<div style="margin:auto">


														<center>
															<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.asignatura_id == NULL%}
																	<option value="" selected/>Seleccione Asignatura</option>
																	{%for x in asg%}
																		{%if a.curso_id == x.curso_id%}
																			<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																		{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
															<br>
															<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.profesor_id == NULL%}
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 %}
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
														</center>

													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
												</div>
											</div>
										</form>
									</div>
								</div>
							{%else%}
								<!-- Button trigger modal -->
								<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
									{{a.asignatura.nombre}} <br>({{a.asignatura.codigo}})<br>({{a.profesor.nombre}} {{a.profesor.apellido}})
								</button>

								<!-- Modal -->
								<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
									<div class="modal-dialog">
										<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post" enctype="multipart/form-data">
											<div class="modal-content">
												<div class="modal-header">
													<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
													<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
												</div>
												<div class="modal-body">
													<div style="margin:auto">
														<center>
															<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
														</center>
													</div>
													<br>
													<div style="margin:auto">

														{% csrf_token %}
														<center>
															<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																<option value="">Seleccione Asignatura</option>
																{%for x in asg%}
																	{%if a.curso_id == x.curso_id%}
																		{%if a.asignatura_id == x.id%}
																			<option value="{{x.id}}" selected/>{{x.nombre}} ({{x.codigo}})</option>
																		{%else%}
																			<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																		{%endif%}
																	{%endif%}
																{%endfor%}
															</select>
															<br>
															<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>

        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																
															</select>
														</center>
													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
												</div>
											</div>
										</form>
									</div>
								</div>
							{%endif%}
						{%endif%}
					{%endfor%}
				</td>
				<td>
					{%for a in hor%}
						{%if a.bloque == 4 and a.dia == "MIERCOLES"%}
							{%if a.asignatura_id == 0 or a.asignatura_id == NULL%}
								<!-- Button trigger modal -->
								<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
									Sin Registro
								</button>

								<!-- Modal -->
								<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
									<div class="modal-dialog">
										<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post">
											{% csrf_token %}
											<div class="modal-content">
												<div class="modal-header">
													<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
													<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
												</div>
												<div class="modal-body">
													<div style="margin:auto">
														<center>
															<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
														</center>
													</div>
													<br>
													<div style="margin:auto">


														<center>
															<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.asignatura_id == NULL%}
																	<option value="" selected/>Seleccione Asignatura</option>
																	{%for x in asg%}
																		{%if a.curso_id == x.curso_id%}
																			<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																		{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
															<br>
															<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.profesor_id == NULL%}
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 %}
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
														</center>

													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
												</div>
											</div>
										</form>
									</div>
								</div>
							{%else%}
								<!-- Button trigger modal -->
								<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
									{{a.asignatura.nombre}} <br>({{a.asignatura.codigo}})<br>({{a.profesor.nombre}} {{a.profesor.apellido}})
								</button>

								<!-- Modal -->
								<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
									<div class="modal-dialog">
										<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post" enctype="multipart/form-data">
											<div class="modal-content">
												<div class="modal-header">
													<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
													<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
												</div>
												<div class="modal-body">
													<div style="margin:auto">
														<center>
															<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
														</center>
													</div>
													<br>
													<div style="margin:auto">

														{% csrf_token %}
														<center>
															<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																<option value="">Seleccione Asignatura</option>
																{%for x in asg%}
																	{%if a.curso_id == x.curso_id%}
																		{%if a.asignatura_id == x.id%}
																			<option value="{{x.id}}" selected/>{{x.nombre}} ({{x.codigo}})</option>
																		{%else%}
																			<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																		{%endif%}
																	{%endif%}
																{%endfor%}
															</select>
															<br>
															<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>

        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																
															</select>
														</center>
													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
												</div>
											</div>
										</form>
									</div>
								</div>
							{%endif%}
						{%endif%}
					{%endfor%}
				</td>
				<td>
					{%for a in hor%}
						{%if a.bloque == 4 and a.dia == "JUEVES"%}
							{%if a.asignatura_id == 0 or a.asignatura_id == NULL%}
								<!-- Button trigger modal -->
								<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
									Sin Registro
								</button>

								<!-- Modal -->
								<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
									<div class="modal-dialog">
										<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post">
											{% csrf_token %}
											<div class="modal-content">
												<div class="modal-header">
													<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
													<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
												</div>
												<div class="modal-body">
													<div style="margin:auto">
														<center>
															<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
														</center>
													</div>
													<br>
													<div style="margin:auto">


														<center>
															<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.asignatura_id == NULL%}
																	<option value="" selected/>Seleccione Asignatura</option>
																	{%for x in asg%}
																		{%if a.curso_id == x.curso_id%}
																			<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																		{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
															<br>
															<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.profesor_id == NULL%}
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 %}
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
														</center>

													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
												</div>
											</div>
										</form>
									</div>
								</div>
							{%else%}
								<!-- Button trigger modal -->
								<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
									{{a.asignatura.nombre}} <br>({{a.asignatura.codigo}})<br>({{a.profesor.nombre}} {{a.profesor.apellido}})
								</button>

								<!-- Modal -->
								<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
									<div class="modal-dialog">
										<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post" enctype="multipart/form-data">
											<div class="modal-content">
												<div class="modal-header">
													<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
													<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
												</div>
												<div class="modal-body">
													<div style="margin:auto">
														<center>
															<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
														</center>
													</div>
													<br>
													<div style="margin:auto">

														{% csrf_token %}
														<center>
															<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																<option value="">Seleccione Asignatura</option>
																{%for x in asg%}
																	{%if a.curso_id == x.curso_id%}
																		{%if a.asignatura_id == x.id%}
																			<option value="{{x.id}}" selected/>{{x.nombre}} ({{x.codigo}})</option>
																		{%else%}
																			<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																		{%endif%}
																	{%endif%}
																{%endfor%}
															</select>
															<br>
															<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>

        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																
															</select>
														</center>
													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
												</div>
											</div>
										</form>
									</div>
								</div>
							{%endif%}
						{%endif%}
					{%endfor%}
				</td>
				<td>
					{%for a in hor%}
						{%if a.bloque == 4 and a.dia == "VIERNES"%}
							{%if a.asignatura_id == 0 or a.asignatura_id == NULL%}
								<!-- Button trigger modal -->
								<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
									Sin Registro
								</button>

								<!-- Modal -->
								<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
									<div class="modal-dialog">
										<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post">
											{% csrf_token %}
											<div class="modal-content">
												<div class="modal-header">
													<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
													<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
												</div>
												<div class="modal-body">
													<div style="margin:auto">
														<center>
															<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
														</center>
													</div>
													<br>
													<div style="margin:auto">


														<center>
															<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.asignatura_id == NULL%}
																	<option value="" selected/>Seleccione Asignatura</option>
																	{%for x in asg%}
																		{%if a.curso_id == x.curso_id%}
																			<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																		{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
															<br>
															<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.profesor_id == NULL%}
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 %}
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
														</center>

													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
												</div>
											</div>
										</form>
									</div>
								</div>
							{%else%}
								<!-- Button trigger modal -->
								<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
									{{a.asignatura.nombre}} <br>({{a.asignatura.codigo}})<br>({{a.profesor.nombre}} {{a.profesor.apellido}})
								</button>

								<!-- Modal -->
								<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
									<div class="modal-dialog">
										<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post" enctype="multipart/form-data">
											<div class="modal-content">
												<div class="modal-header">
													<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
													<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
												</div>
												<div class="modal-body">
													<div style="margin:auto">
														<center>
															<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
														</center>
													</div>
													<br>
													<div style="margin:auto">

														{% csrf_token %}
														<center>
															<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																<option value="">Seleccione Asignatura</option>
																{%for x in asg%}
																	{%if a.curso_id == x.curso_id%}
																		{%if a.asignatura_id == x.id%}
																			<option value="{{x.id}}" selected/>{{x.nombre}} ({{x.codigo}})</option>
																		{%else%}
																			<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																		{%endif%}
																	{%endif%}
																{%endfor%}
															</select>
															<br>
															<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>

        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																
															</select>
														</center>
													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
												</div>
											</div>
										</form>
									</div>
								</div>
							{%endif%}
						{%endif%}
					{%endfor%}
				</td>
			</tr>
			<tr class="align-middle">
				<td style="background-color: yellow">5</td>
				<td>
					{%for a in hor%}
						{%if a.bloque == 5 and a.dia == "LUNES"%}
							{%if a.asignatura_id == 0 or a.asignatura_id == NULL%}
								<!-- Button trigger modal -->
								<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
									Sin Registro
								</button>

								<!-- Modal -->
								<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
									<div class="modal-dialog">
										<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post">
											{% csrf_token %}
											<div class="modal-content">
												<div class="modal-header">
													<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
													<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
												</div>
												<div class="modal-body">
													<div style="margin:auto">
														<center>
															<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
														</center>
													</div>
													<br>
													<div style="margin:auto">


														<center>
															<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.asignatura_id == NULL%}
																	<option value="" selected/>Seleccione Asignatura</option>
																	{%for x in asg%}
																		{%if a.curso_id == x.curso_id%}
																			<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																		{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
															<br>
															<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.profesor_id == NULL%}
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 %}
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
														</center>

													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
												</div>
											</div>
										</form>
									</div>
								</div>
							{%else%}
								<!-- Button trigger modal -->
								<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
									{{a.asignatura.nombre}} <br>({{a.asignatura.codigo}})<br>({{a.profesor.nombre}} {{a.profesor.apellido}})
								</button>

								<!-- Modal -->
								<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
									<div class="modal-dialog">
										<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post" enctype="multipart/form-data">
											<div class="modal-content">
												<div class="modal-header">
													<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
													<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
												</div>
												<div class="modal-body">
													<div style="margin:auto">
														<center>
															<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
														</center>
													</div>
													<br>
													<div style="margin:auto">

														{% csrf_token %}
														<center>
															<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																<option value="">Seleccione Asignatura</option>
																{%for x in asg%}
																	{%if a.curso_id == x.curso_id%}
																		{%if a.asignatura_id == x.id%}
																			<option value="{{x.id}}" selected/>{{x.nombre}} ({{x.codigo}})</option>
																		{%else%}
																			<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																		{%endif%}
																	{%endif%}
																{%endfor%}
															</select>
															<br>
															<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>

        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																
															</select>
														</center>
													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
												</div>
											</div>
										</form>
									</div>
								</div>
							{%endif%}
						{%endif%}
					{%endfor%}
				</td>
				<td>
					{%for a in hor%}
						{%if a.bloque == 5 and a.dia == "MARTES"%}
							{%if a.asignatura_id == 0 or a.asignatura_id == NULL%}
								<!-- Button trigger modal -->
								<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
									Sin Registro
								</button>

								<!-- Modal -->
								<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
									<div class="modal-dialog">
										<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post">
											{% csrf_token %}
											<div class="modal-content">
												<div class="modal-header">
													<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
													<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
												</div>
												<div class="modal-body">
													<div style="margin:auto">
														<center>
															<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
														</center>
													</div>
													<br>
													<div style="margin:auto">


														<center>
															<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.asignatura_id == NULL%}
																	<option value="" selected/>Seleccione Asignatura</option>
																	{%for x in asg%}
																		{%if a.curso_id == x.curso_id%}
																			<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																		{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
															<br>
															<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.profesor_id == NULL%}
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 %}
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
														</center>

													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
												</div>
											</div>
										</form>
									</div>
								</div>
							{%else%}
								<!-- Button trigger modal -->
								<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
									{{a.asignatura.nombre}} <br>({{a.asignatura.codigo}})<br>({{a.profesor.nombre}} {{a.profesor.apellido}})
								</button>

								<!-- Modal -->
								<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
									<div class="modal-dialog">
										<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post" enctype="multipart/form-data">
											<div class="modal-content">
												<div class="modal-header">
													<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
													<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
												</div>
												<div class="modal-body">
													<div style="margin:auto">
														<center>
															<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
														</center>
													</div>
													<br>
													<div style="margin:auto">

														{% csrf_token %}
														<center>
															<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																<option value="">Seleccione Asignatura</option>
																{%for x in asg%}
																	{%if a.curso_id == x.curso_id%}
																		{%if a.asignatura_id == x.id%}
																			<option value="{{x.id}}" selected/>{{x.nombre}} ({{x.codigo}})</option>
																		{%else%}
																			<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																		{%endif%}
																	{%endif%}
																{%endfor%}
															</select>
															<br>
															<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>

        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																
															</select>
														</center>
													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
												</div>
											</div>
										</form>
									</div>
								</div>
							{%endif%}
						{%endif%}
					{%endfor%}
				</td>
				<td>
					{%for a in hor%}
						{%if a.bloque == 5 and a.dia == "MIERCOLES"%}
							{%if a.asignatura_id == 0 or a.asignatura_id == NULL%}
								<!-- Button trigger modal -->
								<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
									Sin Registro
								</button>

								<!-- Modal -->
								<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
									<div class="modal-dialog">
										<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post">
											{% csrf_token %}
											<div class="modal-content">
												<div class="modal-header">
													<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
													<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
												</div>
												<div class="modal-body">
													<div style="margin:auto">
														<center>
															<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
														</center>
													</div>
													<br>
													<div style="margin:auto">


														<center>
															<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.asignatura_id == NULL%}
																	<option value="" selected/>Seleccione Asignatura</option>
																	{%for x in asg%}
																		{%if a.curso_id == x.curso_id%}
																			<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																		{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
															<br>
															<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.profesor_id == NULL%}
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 %}
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
														</center>

													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
												</div>
											</div>
										</form>
									</div>
								</div>
							{%else%}
								<!-- Button trigger modal -->
								<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
									{{a.asignatura.nombre}} <br>({{a.asignatura.codigo}})<br>({{a.profesor.nombre}} {{a.profesor.apellido}})
								</button>

								<!-- Modal -->
								<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
									<div class="modal-dialog">
										<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post" enctype="multipart/form-data">
											<div class="modal-content">
												<div class="modal-header">
													<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
													<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
												</div>
												<div class="modal-body">
													<div style="margin:auto">
														<center>
															<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
														</center>
													</div>
													<br>
													<div style="margin:auto">

														{% csrf_token %}
														<center>
															<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																<option value="">Seleccione Asignatura</option>
																{%for x in asg%}
																	{%if a.curso_id == x.curso_id%}
																		{%if a.asignatura_id == x.id%}
																			<option value="{{x.id}}" selected/>{{x.nombre}} ({{x.codigo}})</option>
																		{%else%}
																			<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																		{%endif%}
																	{%endif%}
																{%endfor%}
															</select>
															<br>
															<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>

        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																
															</select>
														</center>
													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
												</div>
											</div>
										</form>
									</div>
								</div>
							{%endif%}
						{%endif%}
					{%endfor%}
				</td>
				<td>
					{%for a in hor%}
						{%if a.bloque == 5 and a.dia == "JUEVES"%}
							{%if a.asignatura_id == 0 or a.asignatura_id == NULL%}
								<!-- Button trigger modal -->
								<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
									Sin Registro
								</button>

								<!-- Modal -->
								<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
									<div class="modal-dialog">
										<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post">
											{% csrf_token %}
											<div class="modal-content">
												<div class="modal-header">
													<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
													<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
												</div>
												<div class="modal-body">
													<div style="margin:auto">
														<center>
															<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
														</center>
													</div>
													<br>
													<div style="margin:auto">


														<center>
															<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.asignatura_id == NULL%}
																	<option value="" selected/>Seleccione Asignatura</option>
																	{%for x in asg%}
																		{%if a.curso_id == x.curso_id%}
																			<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																		{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
															<br>
															<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.profesor_id == NULL%}
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 %}
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
														</center>

													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
												</div>
											</div>
										</form>
									</div>
								</div>
							{%else%}
								<!-- Button trigger modal -->
								<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
									{{a.asignatura.nombre}} <br>({{a.asignatura.codigo}})<br>({{a.profesor.nombre}} {{a.profesor.apellido}})
								</button>

								<!-- Modal -->
								<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
									<div class="modal-dialog">
										<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post" enctype="multipart/form-data">
											<div class="modal-content">
												<div class="modal-header">
													<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
													<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
												</div>
												<div class="modal-body">
													<div style="margin:auto">
														<center>
															<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
														</center>
													</div>
													<br>
													<div style="margin:auto">

														{% csrf_token %}
														<center>
															<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																<option value="">Seleccione Asignatura</option>
																{%for x in asg%}
																	{%if a.curso_id == x.curso_id%}
																		{%if a.asignatura_id == x.id%}
																			<option value="{{x.id}}" selected/>{{x.nombre}} ({{x.codigo}})</option>
																		{%else%}
																			<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																		{%endif%}
																	{%endif%}
																{%endfor%}
															</select>
															<br>
															<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>

        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																
															</select>
														</center>
													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
												</div>
											</div>
										</form>
									</div>
								</div>
							{%endif%}
						{%endif%}
					{%endfor%}
				</td>
				<td>
					{%for a in hor%}
						{%if a.bloque == 5 and a.dia == "VIERNES"%}
							{%if a.asignatura_id == 0 or a.asignatura_id == NULL%}
								<!-- Button trigger modal -->
								<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
									Sin Registro
								</button>

								<!-- Modal -->
								<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
									<div class="modal-dialog">
										<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post">
											{% csrf_token %}
											<div class="modal-content">
												<div class="modal-header">
													<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
													<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
												</div>
												<div class="modal-body">
													<div style="margin:auto">
														<center>
															<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
														</center>
													</div>
													<br>
													<div style="margin:auto">


														<center>
															<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.asignatura_id == NULL%}
																	<option value="" selected/>Seleccione Asignatura</option>
																	{%for x in asg%}
																		{%if a.curso_id == x.curso_id%}
																			<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																		{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
															<br>
															<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.profesor_id == NULL%}
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 %}
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
														</center>

													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
												</div>
											</div>
										</form>
									</div>
								</div>
							{%else%}
								<!-- Button trigger modal -->
								<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
									{{a.asignatura.nombre}} <br>({{a.asignatura.codigo}})<br>({{a.profesor.nombre}} {{a.profesor.apellido}})
								</button>

								<!-- Modal -->
								<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
									<div class="modal-dialog">
										<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post" enctype="multipart/form-data">
											<div class="modal-content">
												<div class="modal-header">
													<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
													<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
												</div>
												<div class="modal-body">
													<div style="margin:auto">
														<center>
															<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
														</center>
													</div>
													<br>
													<div style="margin:auto">

														{% csrf_token %}
														<center>
															<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																<option value="">Seleccione Asignatura</option>
																{%for x in asg%}
																	{%if a.curso_id == x.curso_id%}
																		{%if a.asignatura_id == x.id%}
																			<option value="{{x.id}}" selected/>{{x.nombre}} ({{x.codigo}})</option>
																		{%else%}
																			<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																		{%endif%}
																	{%endif%}
																{%endfor%}
															</select>
															<br>
															<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>

        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																
															</select>
														</center>
													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
												</div>
											</div>
										</form>
									</div>
								</div>
							{%endif%}
						{%endif%}
					{%endfor%}
				</td>
			</tr>
			<tr class="align-middle">
				<td style="background-color: yellow">6</td>
				<td>
					{%for a in hor%}
						{%if a.bloque == 6 and a.dia == "LUNES"%}
							{%if a.asignatura_id == 0 or a.asignatura_id == NULL%}
								<!-- Button trigger modal -->
								<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
									Sin Registro
								</button>

								<!-- Modal -->
								<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
									<div class="modal-dialog">
										<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post">
											{% csrf_token %}
											<div class="modal-content">
												<div class="modal-header">
													<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
													<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
												</div>
												<div class="modal-body">
													<div style="margin:auto">
														<center>
															<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
														</center>
													</div>
													<br>
													<div style="margin:auto">


														<center>
															<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.asignatura_id == NULL%}
																	<option value="" selected/>Seleccione Asignatura</option>
																	{%for x in asg%}
																		{%if a.curso_id == x.curso_id%}
																			<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																		{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
															<br>
															<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.profesor_id == NULL%}
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 %}
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
														</center>

													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
												</div>
											</div>
										</form>
									</div>
								</div>
							{%else%}
								<!-- Button trigger modal -->
								<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
									{{a.asignatura.nombre}} <br>({{a.asignatura.codigo}})<br>({{a.profesor.nombre}} {{a.profesor.apellido}})
								</button>

								<!-- Modal -->
								<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
									<div class="modal-dialog">
										<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post" enctype="multipart/form-data">
											<div class="modal-content">
												<div class="modal-header">
													<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
													<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
												</div>
												<div class="modal-body">
													<div style="margin:auto">
														<center>
															<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
														</center>
													</div>
													<br>
													<div style="margin:auto">

														{% csrf_token %}
														<center>
															<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																<option value="">Seleccione Asignatura</option>
																{%for x in asg%}
																	{%if a.curso_id == x.curso_id%}
																		{%if a.asignatura_id == x.id%}
																			<option value="{{x.id}}" selected/>{{x.nombre}} ({{x.codigo}})</option>
																		{%else%}
																			<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																		{%endif%}
																	{%endif%}
																{%endfor%}
															</select>
															<br>
															<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>

        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																
															</select>
														</center>
													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
												</div>
											</div>
										</form>
									</div>
								</div>
							{%endif%}
						{%endif%}
					{%endfor%}
				</td>
				<td>
					{%for a in hor%}
						{%if a.bloque == 6 and a.dia == "MARTES"%}
							{%if a.asignatura_id == 0 or a.asignatura_id == NULL%}
								<!-- Button trigger modal -->
								<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
									Sin Registro
								</button>

								<!-- Modal -->
								<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
									<div class="modal-dialog">
										<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post">
											{% csrf_token %}
											<div class="modal-content">
												<div class="modal-header">
													<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
													<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
												</div>
												<div class="modal-body">
													<div style="margin:auto">
														<center>
															<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
														</center>
													</div>
													<br>
													<div style="margin:auto">


														<center>
															<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.asignatura_id == NULL%}
																	<option value="" selected/>Seleccione Asignatura</option>
																	{%for x in asg%}
																		{%if a.curso_id == x.curso_id%}
																			<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																		{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
															<br>
															<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.profesor_id == NULL%}
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 %}
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
														</center>

													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
												</div>
											</div>
										</form>
									</div>
								</div>
							{%else%}
								<!-- Button trigger modal -->
								<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
									{{a.asignatura.nombre}} <br>({{a.asignatura.codigo}})<br>({{a.profesor.nombre}} {{a.profesor.apellido}})
								</button>

								<!-- Modal -->
								<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
									<div class="modal-dialog">
										<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post" enctype="multipart/form-data">
											<div class="modal-content">
												<div class="modal-header">
													<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
													<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
												</div>
												<div class="modal-body">
													<div style="margin:auto">
														<center>
															<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
														</center>
													</div>
													<br>
													<div style="margin:auto">

														{% csrf_token %}
														<center>
															<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																<option value="">Seleccione Asignatura</option>
																{%for x in asg%}
																	{%if a.curso_id == x.curso_id%}
																		{%if a.asignatura_id == x.id%}
																			<option value="{{x.id}}" selected/>{{x.nombre}} ({{x.codigo}})</option>
																		{%else%}
																			<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																		{%endif%}
																	{%endif%}
																{%endfor%}
															</select>
															<br>
															<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>

        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																
															</select>
														</center>
													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
												</div>
											</div>
										</form>
									</div>
								</div>
							{%endif%}
						{%endif%}
					{%endfor%}
				</td>
				<td>
					{%for a in hor%}
						{%if a.bloque == 6 and a.dia == "MIERCOLES"%}
							{%if a.asignatura_id == 0 or a.asignatura_id == NULL%}
								<!-- Button trigger modal -->
								<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
									Sin Registro
								</button>

								<!-- Modal -->
								<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
									<div class="modal-dialog">
										<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post">
											{% csrf_token %}
											<div class="modal-content">
												<div class="modal-header">
													<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
													<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
												</div>
												<div class="modal-body">
													<div style="margin:auto">
														<center>
															<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
														</center>
													</div>
													<br>
													<div style="margin:auto">


														<center>
															<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.asignatura_id == NULL%}
																	<option value="" selected/>Seleccione Asignatura</option>
																	{%for x in asg%}
																		{%if a.curso_id == x.curso_id%}
																			<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																		{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
															<br>
															<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.profesor_id == NULL%}
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 %}
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
														</center>

													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
												</div>
											</div>
										</form>
									</div>
								</div>
							{%else%}
								<!-- Button trigger modal -->
								<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
									{{a.asignatura.nombre}} <br>({{a.asignatura.codigo}})<br>({{a.profesor.nombre}} {{a.profesor.apellido}})
								</button>

								<!-- Modal -->
								<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
									<div class="modal-dialog">
										<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post" enctype="multipart/form-data">
											<div class="modal-content">
												<div class="modal-header">
													<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
													<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
												</div>
												<div class="modal-body">
													<div style="margin:auto">
														<center>
															<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
														</center>
													</div>
													<br>
													<div style="margin:auto">

														{% csrf_token %}
														<center>
															<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																<option value="">Seleccione Asignatura</option>
																{%for x in asg%}
																	{%if a.curso_id == x.curso_id%}
																		{%if a.asignatura_id == x.id%}
																			<option value="{{x.id}}" selected/>{{x.nombre}} ({{x.codigo}})</option>
																		{%else%}
																			<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																		{%endif%}
																	{%endif%}
																{%endfor%}
															</select>
															<br>
															<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>

        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																
															</select>
														</center>
													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
												</div>
											</div>
										</form>
									</div>
								</div>
							{%endif%}
						{%endif%}
					{%endfor%}
				</td>
				<td>
					{%for a in hor%}
						{%if a.bloque == 6 and a.dia == "JUEVES"%}
							{%if a.asignatura_id == 0 or a.asignatura_id == NULL%}
								<!-- Button trigger modal -->
								<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
									Sin Registro
								</button>

								<!-- Modal -->
								<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
									<div class="modal-dialog">
										<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post">
											{% csrf_token %}
											<div class="modal-content">
												<div class="modal-header">
													<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
													<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
												</div>
												<div class="modal-body">
													<div style="margin:auto">
														<center>
															<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
														</center>
													</div>
													<br>
													<div style="margin:auto">


														<center>
															<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.asignatura_id == NULL%}
																	<option value="" selected/>Seleccione Asignatura</option>
																	{%for x in asg%}
																		{%if a.curso_id == x.curso_id%}
																			<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																		{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
															<br>
															<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.profesor_id == NULL%}
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 %}
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
														</center>

													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
												</div>
											</div>
										</form>
									</div>
								</div>
							{%else%}
								<!-- Button trigger modal -->
								<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
									{{a.asignatura.nombre}} <br>({{a.asignatura.codigo}})<br>({{a.profesor.nombre}} {{a.profesor.apellido}})
								</button>

								<!-- Modal -->
								<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
									<div class="modal-dialog">
										<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post" enctype="multipart/form-data">
											<div class="modal-content">
												<div class="modal-header">
													<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
													<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
												</div>
												<div class="modal-body">
													<div style="margin:auto">
														<center>
															<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
														</center>
													</div>
													<br>
													<div style="margin:auto">

														{% csrf_token %}
														<center>
															<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																<option value="">Seleccione Asignatura</option>
																{%for x in asg%}
																	{%if a.curso_id == x.curso_id%}
																		{%if a.asignatura_id == x.id%}
																			<option value="{{x.id}}" selected/>{{x.nombre}} ({{x.codigo}})</option>
																		{%else%}
																			<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																		{%endif%}
																	{%endif%}
																{%endfor%}
															</select>
															<br>
															<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>

        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																
															</select>
														</center>
													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
												</div>
											</div>
										</form>
									</div>
								</div>
							{%endif%}
						{%endif%}
					{%endfor%}
				</td>
				<td>
					{%for a in hor%}
						{%if a.bloque == 6 and a.dia == "VIERNES"%}
							{%if a.asignatura_id == 0 or a.asignatura_id == NULL%}
								<!-- Button trigger modal -->
								<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
									Sin Registro
								</button>

								<!-- Modal -->
								<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
									<div class="modal-dialog">
										<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post">
											{% csrf_token %}
											<div class="modal-content">
												<div class="modal-header">
													<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
													<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
												</div>
												<div class="modal-body">
													<div style="margin:auto">
														<center>
															<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
														</center>
													</div>
													<br>
													<div style="margin:auto">


														<center>
															<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.asignatura_id == NULL%}
																	<option value="" selected/>Seleccione Asignatura</option>
																	{%for x in asg%}
																		{%if a.curso_id == x.curso_id%}
																			<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																		{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
															<br>
															<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.profesor_id == NULL%}
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 %}
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
														</center>

													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
												</div>
											</div>
										</form>
									</div>
								</div>
							{%else%}
								<!-- Button trigger modal -->
								<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
									{{a.asignatura.nombre}} <br>({{a.asignatura.codigo}})<br>({{a.profesor.nombre}} {{a.profesor.apellido}})
								</button>

								<!-- Modal -->
								<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
									<div class="modal-dialog">
										<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post" enctype="multipart/form-data">
											<div class="modal-content">
												<div class="modal-header">
													<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
													<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
												</div>
												<div class="modal-body">
													<div style="margin:auto">
														<center>
															<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
														</center>
													</div>
													<br>
													<div style="margin:auto">

														{% csrf_token %}
														<center>
															<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																<option value="">Seleccione Asignatura</option>
																{%for x in asg%}
																	{%if a.curso_id == x.curso_id%}
																		{%if a.asignatura_id == x.id%}
																			<option value="{{x.id}}" selected/>{{x.nombre}} ({{x.codigo}})</option>
																		{%else%}
																			<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																		{%endif%}
																	{%endif%}
																{%endfor%}
															</select>
															<br>
															<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>

        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																
															</select>
														</center>
													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
												</div>
											</div>
										</form>
									</div>
								</div>
							{%endif%}
						{%endif%}
					{%endfor%}
				</td>
			</tr>
			{%if hor.0.curso_id >= 9%}
				<tr class="align-middle">
					<td style="background-color: yellow">7</td>
					<td>
						{%for a in hor%}
							{%if a.bloque == 7 and a.dia == "LUNES"%}
								{%if a.asignatura_id == 0 or a.asignatura_id == NULL%}
									<!-- Button trigger modal -->
									<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
										Sin Registro
									</button>

									<!-- Modal -->
									<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
										<div class="modal-dialog">
											<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post">
												{% csrf_token %}
												<div class="modal-content">
													<div class="modal-header">
														<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
														<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
													</div>
													<div class="modal-body">
														<div style="margin:auto">
															<center>
																<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
															</center>
														</div>
														<br>
														<div style="margin:auto">


															<center>
																<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																	{%if a.asignatura_id == NULL%}
																		<option value="" selected/>Seleccione Asignatura</option>
																		{%for x in asg%}
																			{%if a.curso_id == x.curso_id%}
																				<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																			{%endif%}
																		{%endfor%}
																	{%endif%}
																</select>
																<br>
																<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.profesor_id == NULL%}
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 %}
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
															</center>

														</div>
													</div>
													<div class="modal-footer">
														<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
													</div>
												</div>
											</form>
										</div>
									</div>
								{%else%}
									<!-- Button trigger modal -->
									<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
										{{a.asignatura.nombre}} <br>({{a.asignatura.codigo}})<br>({{a.profesor.nombre}} {{a.profesor.apellido}})
									</button>

									<!-- Modal -->
									<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
										<div class="modal-dialog">
											<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post" enctype="multipart/form-data">
												<div class="modal-content">
													<div class="modal-header">
														<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
														<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
													</div>
													<div class="modal-body">
														<div style="margin:auto">
															<center>
																<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
															</center>
														</div>
														<br>
														<div style="margin:auto">

															{% csrf_token %}
															<center>
																<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																	<option value="">Seleccione Asignatura</option>
																	{%for x in asg%}
																		{%if a.curso_id == x.curso_id%}
																			{%if a.asignatura_id == x.id%}
																				<option value="{{x.id}}" selected/>{{x.nombre}} ({{x.codigo}})</option>
																			{%else%}
																				<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																			{%endif%}
																		{%endif%}
																	{%endfor%}
																</select>
																<br>
																<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>

        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																
															</select>
															</center>
														</div>
													</div>
													<div class="modal-footer">
														<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
													</div>
												</div>
											</form>
										</div>
									</div>
								{%endif%}
							{%endif%}
						{%endfor%}
					</td>
					<td>
						{%for a in hor%}
							{%if a.bloque == 7 and a.dia == "MARTES"%}
								{%if a.asignatura_id == 0 or a.asignatura_id == NULL%}
									<!-- Button trigger modal -->
									<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
										Sin Registro
									</button>

									<!-- Modal -->
									<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
										<div class="modal-dialog">
											<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post">
												{% csrf_token %}
												<div class="modal-content">
													<div class="modal-header">
														<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
														<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
													</div>
													<div class="modal-body">
														<div style="margin:auto">
															<center>
																<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
															</center>
														</div>
														<br>
														<div style="margin:auto">


															<center>
																<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																	{%if a.asignatura_id == NULL%}
																		<option value="" selected/>Seleccione Asignatura</option>
																		{%for x in asg%}
																			{%if a.curso_id == x.curso_id%}
																				<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																			{%endif%}
																		{%endfor%}
																	{%endif%}
																</select>
																<br>
																<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.profesor_id == NULL%}
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 %}
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
															</center>

														</div>
													</div>
													<div class="modal-footer">
														<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
													</div>
												</div>
											</form>
										</div>
									</div>
								{%else%}
									<!-- Button trigger modal -->
									<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
										{{a.asignatura.nombre}} <br>({{a.asignatura.codigo}})<br>({{a.profesor.nombre}} {{a.profesor.apellido}})
									</button>

									<!-- Modal -->
									<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
										<div class="modal-dialog">
											<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post" enctype="multipart/form-data">
												<div class="modal-content">
													<div class="modal-header">
														<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
														<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
													</div>
													<div class="modal-body">
														<div style="margin:auto">
															<center>
																<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
															</center>
														</div>
														<br>
														<div style="margin:auto">

															{% csrf_token %}
															<center>
																<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																	<option value="">Seleccione Asignatura</option>
																	{%for x in asg%}
																		{%if a.curso_id == x.curso_id%}
																			{%if a.asignatura_id == x.id%}
																				<option value="{{x.id}}" selected/>{{x.nombre}} ({{x.codigo}})</option>
																			{%else%}
																				<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																			{%endif%}
																		{%endif%}
																	{%endfor%}
																</select>
																<br>
																<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>

        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																
															</select>
															</center>
														</div>
													</div>
													<div class="modal-footer">
														<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
													</div>
												</div>
											</form>
										</div>
									</div>
								{%endif%}
							{%endif%}
						{%endfor%}
					</td>
					<td>
						{%for a in hor%}
							{%if a.bloque == 7 and a.dia == "MIERCOLES"%}
								{%if a.asignatura_id == 0 or a.asignatura_id == NULL%}
									<!-- Button trigger modal -->
									<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
										Sin Registro
									</button>

									<!-- Modal -->
									<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
										<div class="modal-dialog">
											<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post">
												{% csrf_token %}
												<div class="modal-content">
													<div class="modal-header">
														<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
														<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
													</div>
													<div class="modal-body">
														<div style="margin:auto">
															<center>
																<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
															</center>
														</div>
														<br>
														<div style="margin:auto">


															<center>
																<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																	{%if a.asignatura_id == NULL%}
																		<option value="" selected/>Seleccione Asignatura</option>
																		{%for x in asg%}
																			{%if a.curso_id == x.curso_id%}
																				<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																			{%endif%}
																		{%endfor%}
																	{%endif%}
																</select>
																<br>
																<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.profesor_id == NULL%}
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 %}
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
															</center>

														</div>
													</div>
													<div class="modal-footer">
														<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
													</div>
												</div>
											</form>
										</div>
									</div>
								{%else%}
									<!-- Button trigger modal -->
									<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
										{{a.asignatura.nombre}} <br>({{a.asignatura.codigo}})<br>({{a.profesor.nombre}} {{a.profesor.apellido}})
									</button>

									<!-- Modal -->
									<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
										<div class="modal-dialog">
											<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post" enctype="multipart/form-data">
												<div class="modal-content">
													<div class="modal-header">
														<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
														<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
													</div>
													<div class="modal-body">
														<div style="margin:auto">
															<center>
																<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
															</center>
														</div>
														<br>
														<div style="margin:auto">

															{% csrf_token %}
															<center>
																<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																	<option value="">Seleccione Asignatura</option>
																	{%for x in asg%}
																		{%if a.curso_id == x.curso_id%}
																			{%if a.asignatura_id == x.id%}
																				<option value="{{x.id}}" selected/>{{x.nombre}} ({{x.codigo}})</option>
																			{%else%}
																				<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																			{%endif%}
																		{%endif%}
																	{%endfor%}
																</select>
																<br>
																<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>

        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																
															</select>
															</center>
														</div>
													</div>
													<div class="modal-footer">
														<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
													</div>
												</div>
											</form>
										</div>
									</div>
								{%endif%}
							{%endif%}
						{%endfor%}
					</td>
					<td>
						{%for a in hor%}
							{%if a.bloque == 7 and a.dia == "JUEVES"%}
								{%if a.asignatura_id == 0 or a.asignatura_id == NULL%}
									<!-- Button trigger modal -->
									<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
										Sin Registro
									</button>

									<!-- Modal -->
									<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
										<div class="modal-dialog">
											<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post">
												{% csrf_token %}
												<div class="modal-content">
													<div class="modal-header">
														<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
														<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
													</div>
													<div class="modal-body">
														<div style="margin:auto">
															<center>
																<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
															</center>
														</div>
														<br>
														<div style="margin:auto">


															<center>
																<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																	{%if a.asignatura_id == NULL%}
																		<option value="" selected/>Seleccione Asignatura</option>
																		{%for x in asg%}
																			{%if a.curso_id == x.curso_id%}
																				<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																			{%endif%}
																		{%endfor%}
																	{%endif%}
																</select>
																<br>
																<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.profesor_id == NULL%}
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 %}
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
															</center>

														</div>
													</div>
													<div class="modal-footer">
														<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
													</div>
												</div>
											</form>
										</div>
									</div>
								{%else%}
									<!-- Button trigger modal -->
									<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
										{{a.asignatura.nombre}} <br>({{a.asignatura.codigo}})<br>({{a.profesor.nombre}} {{a.profesor.apellido}})
									</button>

									<!-- Modal -->
									<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
										<div class="modal-dialog">
											<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post" enctype="multipart/form-data">
												<div class="modal-content">
													<div class="modal-header">
														<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
														<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
													</div>
													<div class="modal-body">
														<div style="margin:auto">
															<center>
																<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
															</center>
														</div>
														<br>
														<div style="margin:auto">

															{% csrf_token %}
															<center>
																<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																	<option value="">Seleccione Asignatura</option>
																	{%for x in asg%}
																		{%if a.curso_id == x.curso_id%}
																			{%if a.asignatura_id == x.id%}
																				<option value="{{x.id}}" selected/>{{x.nombre}} ({{x.codigo}})</option>
																			{%else%}
																				<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																			{%endif%}
																		{%endif%}
																	{%endfor%}
																</select>
																<br>
																<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>

        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																
															</select>
															</center>
														</div>
													</div>
													<div class="modal-footer">
														<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
													</div>
												</div>
											</form>
										</div>
									</div>
								{%endif%}
							{%endif%}
						{%endfor%}
					</td>
					<td>
						{%for a in hor%}
							{%if a.bloque == 7 and a.dia == "VIERNES"%}
								{%if a.asignatura_id == 0 or a.asignatura_id == NULL%}
									<!-- Button trigger modal -->
									<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
										Sin Registro
									</button>

									<!-- Modal -->
									<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
										<div class="modal-dialog">
											<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post">
												{% csrf_token %}
												<div class="modal-content">
													<div class="modal-header">
														<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
														<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
													</div>
													<div class="modal-body">
														<div style="margin:auto">
															<center>
																<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
															</center>
														</div>
														<br>
														<div style="margin:auto">


															<center>
																<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																	{%if a.asignatura_id == NULL%}
																		<option value="" selected/>Seleccione Asignatura</option>
																		{%for x in asg%}
																			{%if a.curso_id == x.curso_id%}
																				<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																			{%endif%}
																		{%endfor%}
																	{%endif%}
																</select>
																<br>
																<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.profesor_id == NULL%}
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 %}
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
															</center>

														</div>
													</div>
													<div class="modal-footer">
														<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
													</div>
												</div>
											</form>
										</div>
									</div>
								{%else%}
									<!-- Button trigger modal -->
									<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
										{{a.asignatura.nombre}} <br>({{a.asignatura.codigo}})<br>({{a.profesor.nombre}} {{a.profesor.apellido}})
									</button>

									<!-- Modal -->
									<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
										<div class="modal-dialog">
											<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post" enctype="multipart/form-data">
												<div class="modal-content">
													<div class="modal-header">
														<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
														<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
													</div>
													<div class="modal-body">
														<div style="margin:auto">
															<center>
																<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
															</center>
														</div>
														<br>
														<div style="margin:auto">

															{% csrf_token %}
															<center>
																<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																	<option value="">Seleccione Asignatura</option>
																	{%for x in asg%}
																		{%if a.curso_id == x.curso_id%}
																			{%if a.asignatura_id == x.id%}
																				<option value="{{x.id}}" selected/>{{x.nombre}} ({{x.codigo}})</option>
																			{%else%}
																				<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																			{%endif%}
																		{%endif%}
																	{%endfor%}
																</select>
																<br>
																<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>

        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																
															</select>
															</center>
														</div>
													</div>
													<div class="modal-footer">
														<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
													</div>
												</div>
											</form>
										</div>
									</div>
								{%endif%}
							{%endif%}
						{%endfor%}
					</td>
				</tr>
				<tr class="align-middle">
					<td style="background-color: yellow">8</td>
					<td>
						{%for a in hor%}
							{%if a.bloque == 8 and a.dia == "LUNES"%}
								{%if a.asignatura_id == 0 or a.asignatura_id == NULL%}
									<!-- Button trigger modal -->
									<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
										Sin Registro
									</button>

									<!-- Modal -->
									<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
										<div class="modal-dialog">
											<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post">
												{% csrf_token %}
												<div class="modal-content">
													<div class="modal-header">
														<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
														<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
													</div>
													<div class="modal-body">
														<div style="margin:auto">
															<center>
																<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
															</center>
														</div>
														<br>
														<div style="margin:auto">


															<center>
																<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																	{%if a.asignatura_id == NULL%}
																		<option value="" selected/>Seleccione Asignatura</option>
																		{%for x in asg%}
																			{%if a.curso_id == x.curso_id%}
																				<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																			{%endif%}
																		{%endfor%}
																	{%endif%}
																</select>
																<br>
																<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.profesor_id == NULL%}
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 %}
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
															</center>

														</div>
													</div>
													<div class="modal-footer">
														<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
													</div>
												</div>
											</form>
										</div>
									</div>
								{%else%}
									<!-- Button trigger modal -->
									<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
										{{a.asignatura.nombre}} <br>({{a.asignatura.codigo}})<br>({{a.profesor.nombre}} {{a.profesor.apellido}})
									</button>

									<!-- Modal -->
									<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
										<div class="modal-dialog">
											<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post" enctype="multipart/form-data">
												<div class="modal-content">
													<div class="modal-header">
														<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
														<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
													</div>
													<div class="modal-body">
														<div style="margin:auto">
															<center>
																<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
															</center>
														</div>
														<br>
														<div style="margin:auto">

															{% csrf_token %}
															<center>
																<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																	<option value="">Seleccione Asignatura</option>
																	{%for x in asg%}
																		{%if a.curso_id == x.curso_id%}
																			{%if a.asignatura_id == x.id%}
																				<option value="{{x.id}}" selected/>{{x.nombre}} ({{x.codigo}})</option>
																			{%else%}
																				<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																			{%endif%}
																		{%endif%}
																	{%endfor%}
																</select>
																<br>
																<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>

        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																
															</select>
															</center>
														</div>
													</div>
													<div class="modal-footer">
														<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
													</div>
												</div>
											</form>
										</div>
									</div>
								{%endif%}
							{%endif%}
						{%endfor%}
					</td>
					<td>
						{%for a in hor%}
							{%if a.bloque == 8 and a.dia == "MARTES"%}
								{%if a.asignatura_id == 0 or a.asignatura_id == NULL%}
									<!-- Button trigger modal -->
									<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
										Sin Registro
									</button>

									<!-- Modal -->
									<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
										<div class="modal-dialog">
											<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post">
												{% csrf_token %}
												<div class="modal-content">
													<div class="modal-header">
														<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
														<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
													</div>
													<div class="modal-body">
														<div style="margin:auto">
															<center>
																<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
															</center>
														</div>
														<br>
														<div style="margin:auto">


															<center>
																<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																	{%if a.asignatura_id == NULL%}
																		<option value="" selected/>Seleccione Asignatura</option>
																		{%for x in asg%}
																			{%if a.curso_id == x.curso_id%}
																				<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																			{%endif%}
																		{%endfor%}
																	{%endif%}
																</select>
																<br>
																<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.profesor_id == NULL%}
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 %}
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
															</center>

														</div>
													</div>
													<div class="modal-footer">
														<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
													</div>
												</div>
											</form>
										</div>
									</div>
								{%else%}
									<!-- Button trigger modal -->
									<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
										{{a.asignatura.nombre}} <br>({{a.asignatura.codigo}})<br>({{a.profesor.nombre}} {{a.profesor.apellido}})
									</button>

									<!-- Modal -->
									<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
										<div class="modal-dialog">
											<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post" enctype="multipart/form-data">
												<div class="modal-content">
													<div class="modal-header">
														<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
														<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
													</div>
													<div class="modal-body">
														<div style="margin:auto">
															<center>
																<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
															</center>
														</div>
														<br>
														<div style="margin:auto">

															{% csrf_token %}
															<center>
																<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																	<option value="">Seleccione Asignatura</option>
																	{%for x in asg%}
																		{%if a.curso_id == x.curso_id%}
																			{%if a.asignatura_id == x.id%}
																				<option value="{{x.id}}" selected/>{{x.nombre}} ({{x.codigo}})</option>
																			{%else%}
																				<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																			{%endif%}
																		{%endif%}
																	{%endfor%}
																</select>
																<br>
																<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>

        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																
															</select>
															</center>
														</div>
													</div>
													<div class="modal-footer">
														<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
													</div>
												</div>
											</form>
										</div>
									</div>
								{%endif%}
							{%endif%}
						{%endfor%}
					</td>
					<td>
						{%for a in hor%}
							{%if a.bloque == 8 and a.dia == "MIERCOLES"%}
								{%if a.asignatura_id == 0 or a.asignatura_id == NULL%}
									<!-- Button trigger modal -->
									<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
										Sin Registro
									</button>

									<!-- Modal -->
									<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
										<div class="modal-dialog">
											<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post">
												{% csrf_token %}
												<div class="modal-content">
													<div class="modal-header">
														<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
														<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
													</div>
													<div class="modal-body">
														<div style="margin:auto">
															<center>
																<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
															</center>
														</div>
														<br>
														<div style="margin:auto">


															<center>
																<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																	{%if a.asignatura_id == NULL%}
																		<option value="" selected/>Seleccione Asignatura</option>
																		{%for x in asg%}
																			{%if a.curso_id == x.curso_id%}
																				<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																			{%endif%}
																		{%endfor%}
																	{%endif%}
																</select>
																<br>
																<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.profesor_id == NULL%}
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 %}
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
															</center>

														</div>
													</div>
													<div class="modal-footer">
														<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
													</div>
												</div>
											</form>
										</div>
									</div>
								{%else%}
									<!-- Button trigger modal -->
									<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
										{{a.asignatura.nombre}} <br>({{a.asignatura.codigo}})<br>({{a.profesor.nombre}} {{a.profesor.apellido}})
									</button>

									<!-- Modal -->
									<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
										<div class="modal-dialog">
											<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post" enctype="multipart/form-data">
												<div class="modal-content">
													<div class="modal-header">
														<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
														<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
													</div>
													<div class="modal-body">
														<div style="margin:auto">
															<center>
																<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
															</center>
														</div>
														<br>
														<div style="margin:auto">

															{% csrf_token %}
															<center>
																<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																	<option value="">Seleccione Asignatura</option>
																	{%for x in asg%}
																		{%if a.curso_id == x.curso_id%}
																			{%if a.asignatura_id == x.id%}
																				<option value="{{x.id}}" selected/>{{x.nombre}} ({{x.codigo}})</option>
																			{%else%}
																				<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																			{%endif%}
																		{%endif%}
																	{%endfor%}
																</select>
																<br>
																<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>

        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																
															</select>
															</center>
														</div>
													</div>
													<div class="modal-footer">
														<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
													</div>
												</div>
											</form>
										</div>
									</div>
								{%endif%}
							{%endif%}
						{%endfor%}
					</td>
					<td>
						{%for a in hor%}
							{%if a.bloque == 8 and a.dia == "JUEVES"%}
								{%if a.asignatura_id == 0 or a.asignatura_id == NULL%}
									<!-- Button trigger modal -->
									<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
										Sin Registro
									</button>

									<!-- Modal -->
									<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
										<div class="modal-dialog">
											<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post">
												{% csrf_token %}
												<div class="modal-content">
													<div class="modal-header">
														<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
														<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
													</div>
													<div class="modal-body">
														<div style="margin:auto">
															<center>
																<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
															</center>
														</div>
														<br>
														<div style="margin:auto">


															<center>
																<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																	{%if a.asignatura_id == NULL%}
																		<option value="" selected/>Seleccione Asignatura</option>
																		{%for x in asg%}
																			{%if a.curso_id == x.curso_id%}
																				<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																			{%endif%}
																		{%endfor%}
																	{%endif%}
																</select>
																<br>
																<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.profesor_id == NULL%}
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 %}
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
															</center>

														</div>
													</div>
													<div class="modal-footer">
														<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
													</div>
												</div>
											</form>
										</div>
									</div>
								{%else%}
									<!-- Button trigger modal -->
									<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
										{{a.asignatura.nombre}} <br>({{a.asignatura.codigo}})<br>({{a.profesor.nombre}} {{a.profesor.apellido}})
									</button>

									<!-- Modal -->
									<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
										<div class="modal-dialog">
											<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post" enctype="multipart/form-data">
												<div class="modal-content">
													<div class="modal-header">
														<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
														<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
													</div>
													<div class="modal-body">
														<div style="margin:auto">
															<center>
																<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
															</center>
														</div>
														<br>
														<div style="margin:auto">

															{% csrf_token %}
															<center>
																<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																	<option value="">Seleccione Asignatura</option>
																	{%for x in asg%}
																		{%if a.curso_id == x.curso_id%}
																			{%if a.asignatura_id == x.id%}
																				<option value="{{x.id}}" selected/>{{x.nombre}} ({{x.codigo}})</option>
																			{%else%}
																				<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																			{%endif%}
																		{%endif%}
																	{%endfor%}
																</select>
																<br>
																<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>

        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																
															</select>
															</center>
														</div>
													</div>
													<div class="modal-footer">
														<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
													</div>
												</div>
											</form>
										</div>
									</div>
								{%endif%}
							{%endif%}
						{%endfor%}
					</td>
					<td>
						{%for a in hor%}
							{%if a.bloque == 8 and a.dia == "VIERNES"%}
								{%if a.asignatura_id == 0 or a.asignatura_id == NULL%}
									<!-- Button trigger modal -->
									<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
										Sin Registro
									</button>

									<!-- Modal -->
									<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
										<div class="modal-dialog">
											<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post">
												{% csrf_token %}
												<div class="modal-content">
													<div class="modal-header">
														<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
														<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
													</div>
													<div class="modal-body">
														<div style="margin:auto">
															<center>
																<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
															</center>
														</div>
														<br>
														<div style="margin:auto">


															<center>
																<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																	{%if a.asignatura_id == NULL%}
																		<option value="" selected/>Seleccione Asignatura</option>
																		{%for x in asg%}
																			{%if a.curso_id == x.curso_id%}
																				<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																			{%endif%}
																		{%endfor%}
																	{%endif%}
																</select>
																<br>
																<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.profesor_id == NULL%}
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 %}
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
															</center>

														</div>
													</div>
													<div class="modal-footer">
														<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
													</div>
												</div>
											</form>
										</div>
									</div>
								{%else%}
									<!-- Button trigger modal -->
									<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
										{{a.asignatura.nombre}} <br>({{a.asignatura.codigo}})<br>({{a.profesor.nombre}} {{a.profesor.apellido}})
									</button>

									<!-- Modal -->
									<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
										<div class="modal-dialog">
											<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post" enctype="multipart/form-data">
												<div class="modal-content">
													<div class="modal-header">
														<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
														<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
													</div>
													<div class="modal-body">
														<div style="margin:auto">
															<center>
																<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
															</center>
														</div>
														<br>
														<div style="margin:auto">

															{% csrf_token %}
															<center>
																<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																	<option value="">Seleccione Asignatura</option>
																	{%for x in asg%}
																		{%if a.curso_id == x.curso_id%}
																			{%if a.asignatura_id == x.id%}
																				<option value="{{x.id}}" selected/>{{x.nombre}} ({{x.codigo}})</option>
																			{%else%}
																				<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																			{%endif%}
																		{%endif%}
																	{%endfor%}
																</select>
																<br>
																<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>

        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																
															</select>
															</center>
														</div>
													</div>
													<div class="modal-footer">
														<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
													</div>
												</div>
											</form>
										</div>
									</div>
								{%endif%}
							{%endif%}
						{%endfor%}
					</td>
				</tr>
				<tr class="align-middle">
					<td style="background-color: yellow">9</td>
					<td>
						{%for a in hor%}
							{%if a.bloque == 9 and a.dia == "LUNES"%}
								{%if a.asignatura_id == 0 or a.asignatura_id == NULL%}
									<!-- Button trigger modal -->
									<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
										Sin Registro
									</button>

									<!-- Modal -->
									<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
										<div class="modal-dialog">
											<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post">
												{% csrf_token %}
												<div class="modal-content">
													<div class="modal-header">
														<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
														<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
													</div>
													<div class="modal-body">
														<div style="margin:auto">
															<center>
																<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
															</center>
														</div>
														<br>
														<div style="margin:auto">


															<center>
																<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																	{%if a.asignatura_id == NULL%}
																		<option value="" selected/>Seleccione Asignatura</option>
																		{%for x in asg%}
																			{%if a.curso_id == x.curso_id%}
																				<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																			{%endif%}
																		{%endfor%}
																	{%endif%}
																</select>
																<br>
																<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.profesor_id == NULL%}
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 %}
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
															</center>

														</div>
													</div>
													<div class="modal-footer">
														<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
													</div>
												</div>
											</form>
										</div>
									</div>
								{%else%}
									<!-- Button trigger modal -->
									<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
										{{a.asignatura.nombre}} <br>({{a.asignatura.codigo}})<br>({{a.profesor.nombre}} {{a.profesor.apellido}})
									</button>

									<!-- Modal -->
									<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
										<div class="modal-dialog">
											<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post" enctype="multipart/form-data">
												<div class="modal-content">
													<div class="modal-header">
														<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
														<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
													</div>
													<div class="modal-body">
														<div style="margin:auto">
															<center>
																<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
															</center>
														</div>
														<br>
														<div style="margin:auto">

															{% csrf_token %}
															<center>
																<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																	<option value="">Seleccione Asignatura</option>
																	{%for x in asg%}
																		{%if a.curso_id == x.curso_id%}
																			{%if a.asignatura_id == x.id%}
																				<option value="{{x.id}}" selected/>{{x.nombre}} ({{x.codigo}})</option>
																			{%else%}
																				<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																			{%endif%}
																		{%endif%}
																	{%endfor%}
																</select>
																<br>
																<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>

        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																
															</select>
															</center>
														</div>
													</div>
													<div class="modal-footer">
														<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
													</div>
												</div>
											</form>
										</div>
									</div>
								{%endif%}
							{%endif%}
						{%endfor%}
					</td>
					<td>
						{%for a in hor%}
							{%if a.bloque == 9 and a.dia == "MARTES"%}
								{%if a.asignatura_id == 0 or a.asignatura_id == NULL%}
									<!-- Button trigger modal -->
									<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
										Sin Registro
									</button>

									<!-- Modal -->
									<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
										<div class="modal-dialog">
											<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post">
												{% csrf_token %}
												<div class="modal-content">
													<div class="modal-header">
														<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
														<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
													</div>
													<div class="modal-body">
														<div style="margin:auto">
															<center>
																<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
															</center>
														</div>
														<br>
														<div style="margin:auto">


															<center>
																<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																	{%if a.asignatura_id == NULL%}
																		<option value="" selected/>Seleccione Asignatura</option>
																		{%for x in asg%}
																			{%if a.curso_id == x.curso_id%}
																				<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																			{%endif%}
																		{%endfor%}
																	{%endif%}
																</select>
																<br>
																<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.profesor_id == NULL%}
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 %}
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
															</center>

														</div>
													</div>
													<div class="modal-footer">
														<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
													</div>
												</div>
											</form>
										</div>
									</div>
								{%else%}
									<!-- Button trigger modal -->
									<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
										{{a.asignatura.nombre}} <br>({{a.asignatura.codigo}})<br>({{a.profesor.nombre}} {{a.profesor.apellido}})
									</button>

									<!-- Modal -->
									<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
										<div class="modal-dialog">
											<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post" enctype="multipart/form-data">
												<div class="modal-content">
													<div class="modal-header">
														<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
														<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
													</div>
													<div class="modal-body">
														<div style="margin:auto">
															<center>
																<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
															</center>
														</div>
														<br>
														<div style="margin:auto">

															{% csrf_token %}
															<center>
																<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																	<option value="">Seleccione Asignatura</option>
																	{%for x in asg%}
																		{%if a.curso_id == x.curso_id%}
																			{%if a.asignatura_id == x.id%}
																				<option value="{{x.id}}" selected/>{{x.nombre}} ({{x.codigo}})</option>
																			{%else%}
																				<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																			{%endif%}
																		{%endif%}
																	{%endfor%}
																</select>
																<br>
																<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>

        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																
															</select>
															</center>
														</div>
													</div>
													<div class="modal-footer">
														<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
													</div>
												</div>
											</form>
										</div>
									</div>
								{%endif%}
							{%endif%}
						{%endfor%}
					</td>
					<td>
						{%for a in hor%}
							{%if a.bloque == 9 and a.dia == "MIERCOLES"%}
								{%if a.asignatura_id == 0 or a.asignatura_id == NULL%}
									<!-- Button trigger modal -->
									<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
										Sin Registro
									</button>

									<!-- Modal -->
									<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
										<div class="modal-dialog">
											<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post">
												{% csrf_token %}
												<div class="modal-content">
													<div class="modal-header">
														<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
														<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
													</div>
													<div class="modal-body">
														<div style="margin:auto">
															<center>
																<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
															</center>
														</div>
														<br>
														<div style="margin:auto">


															<center>
																<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																	{%if a.asignatura_id == NULL%}
																		<option value="" selected/>Seleccione Asignatura</option>
																		{%for x in asg%}
																			{%if a.curso_id == x.curso_id%}
																				<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																			{%endif%}
																		{%endfor%}
																	{%endif%}
																</select>
																<br>
																<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.profesor_id == NULL%}
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 %}
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
															</center>

														</div>
													</div>
													<div class="modal-footer">
														<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
													</div>
												</div>
											</form>
										</div>
									</div>
								{%else%}
									<!-- Button trigger modal -->
									<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
										{{a.asignatura.nombre}} <br>({{a.asignatura.codigo}})<br>({{a.profesor.nombre}} {{a.profesor.apellido}})
									</button>

									<!-- Modal -->
									<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
										<div class="modal-dialog">
											<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post" enctype="multipart/form-data">
												<div class="modal-content">
													<div class="modal-header">
														<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
														<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
													</div>
													<div class="modal-body">
														<div style="margin:auto">
															<center>
																<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
															</center>
														</div>
														<br>
														<div style="margin:auto">

															{% csrf_token %}
															<center>
																<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																	<option value="">Seleccione Asignatura</option>
																	{%for x in asg%}
																		{%if a.curso_id == x.curso_id%}
																			{%if a.asignatura_id == x.id%}
																				<option value="{{x.id}}" selected/>{{x.nombre}} ({{x.codigo}})</option>
																			{%else%}
																				<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																			{%endif%}
																		{%endif%}
																	{%endfor%}
																</select>
																<br>
																<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>

        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																
															</select>
															</center>
														</div>
													</div>
													<div class="modal-footer">
														<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
													</div>
												</div>
											</form>
										</div>
									</div>
								{%endif%}
							{%endif%}
						{%endfor%}
					</td>
					<td>
						{%for a in hor%}
							{%if a.bloque == 9 and a.dia == "JUEVES"%}
								{%if a.asignatura_id == 0 or a.asignatura_id == NULL%}
									<!-- Button trigger modal -->
									<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
										Sin Registro
									</button>

									<!-- Modal -->
									<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
										<div class="modal-dialog">
											<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post">
												{% csrf_token %}
												<div class="modal-content">
													<div class="modal-header">
														<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
														<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
													</div>
													<div class="modal-body">
														<div style="margin:auto">
															<center>
																<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
															</center>
														</div>
														<br>
														<div style="margin:auto">


															<center>
																<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																	{%if a.asignatura_id == NULL%}
																		<option value="" selected/>Seleccione Asignatura</option>
																		{%for x in asg%}
																			{%if a.curso_id == x.curso_id%}
																				<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																			{%endif%}
																		{%endfor%}
																	{%endif%}
																</select>
																<br>
																<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.profesor_id == NULL%}
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 %}
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
															</center>

														</div>
													</div>
													<div class="modal-footer">
														<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
													</div>
												</div>
											</form>
										</div>
									</div>
								{%else%}
									<!-- Button trigger modal -->
									<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
										{{a.asignatura.nombre}} <br>({{a.asignatura.codigo}})<br>({{a.profesor.nombre}} {{a.profesor.apellido}})
									</button>

									<!-- Modal -->
									<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
										<div class="modal-dialog">
											<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post" enctype="multipart/form-data">
												<div class="modal-content">
													<div class="modal-header">
														<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
														<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
													</div>
													<div class="modal-body">
														<div style="margin:auto">
															<center>
																<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
															</center>
														</div>
														<br>
														<div style="margin:auto">

															{% csrf_token %}
															<center>
																<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																	<option value="">Seleccione Asignatura</option>
																	{%for x in asg%}
																		{%if a.curso_id == x.curso_id%}
																			{%if a.asignatura_id == x.id%}
																				<option value="{{x.id}}" selected/>{{x.nombre}} ({{x.codigo}})</option>
																			{%else%}
																				<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																			{%endif%}
																		{%endif%}
																	{%endfor%}
																</select>
																<br>
																<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>

        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																
															</select>
															</center>
														</div>
													</div>
													<div class="modal-footer">
														<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
													</div>
												</div>
											</form>
										</div>
									</div>
								{%endif%}
							{%endif%}
						{%endfor%}
					</td>
					<td>
						{%for a in hor%}
							{%if a.bloque == 9 and a.dia == "VIERNES"%}
								{%if a.asignatura_id == 0 or a.asignatura_id == NULL%}
									<!-- Button trigger modal -->
									<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
										Sin Registro
									</button>

									<!-- Modal -->
									<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
										<div class="modal-dialog">
											<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post">
												{% csrf_token %}
												<div class="modal-content">
													<div class="modal-header">
														<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
														<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
													</div>
													<div class="modal-body">
														<div style="margin:auto">
															<center>
																<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
															</center>
														</div>
														<br>
														<div style="margin:auto">


															<center>
																<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																	{%if a.asignatura_id == NULL%}
																		<option value="" selected/>Seleccione Asignatura</option>
																		{%for x in asg%}
																			{%if a.curso_id == x.curso_id%}
																				<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																			{%endif%}
																		{%endfor%}
																	{%endif%}
																</select>
																<br>
																<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																{%if a.profesor_id == NULL%}
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 %}
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																{%endif%}
															</select>
															</center>

														</div>
													</div>
													<div class="modal-footer">
														<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
													</div>
												</div>
											</form>
										</div>
									</div>
								{%else%}
									<!-- Button trigger modal -->
									<button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modal{{a.id}}">
										{{a.asignatura.nombre}} <br>({{a.asignatura.codigo}})<br>({{a.profesor.nombre}} {{a.profesor.apellido}})
									</button>

									<!-- Modal -->
									<div class="modal fade" id="modal{{a.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
										<div class="modal-dialog">
											<form action="/cambiar_hor/{{a.id}}/{{idc}}" method="post" enctype="multipart/form-data">
												<div class="modal-content">
													<div class="modal-header">
														<h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Horario</h1>
														<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancelar"></button>
													</div>
													<div class="modal-body">
														<div style="margin:auto">
															<center>
																<h2> Curso: {{a.curso.nombre}}</h2><br><h3> Dia: {{a.dia}}</h3><br><h4>Bloque: {{a.bloque}}</h4>
															</center>
														</div>
														<br>
														<div style="margin:auto">

															{% csrf_token %}
															<center>
																<select name="opasg" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																	<option value="">Seleccione Asignatura</option>
																	{%for x in asg%}
																		{%if a.curso_id == x.curso_id%}
																			{%if a.asignatura_id == x.id%}
																				<option value="{{x.id}}" selected/>{{x.nombre}} ({{x.codigo}})</option>
																			{%else%}
																				<option value="{{x.id}}">{{x.nombre}} ({{x.codigo}})</option>
																			{%endif%}
																		{%endif%}
																	{%endfor%}
																</select>
																<br>
																<select name="oppro" class="form-select-lg text-center" style="margin-bottom:10px; width:74%;" required/>
																
																	<option value="" selected/>Seleccione Profesor</option>
																	{%for x in pro2%}
        																	{%if x.dia == a.dia and x.bloque == a.bloque%}
        																		{%if a.profesor_id == x.profesor_id%}
        																			
        																			        <option value="{{x.profesor_id}}" selected>{{x.profesor.nombre}} {{x.profesor.apellido}}</option>

        																		{%else%}
        																			{% with hor2|filtrar_registros:x as total_registros %}
                                                                                        {% if total_registros == 0 or total_registros == 1%}
        																			        <option value="{{x.profesor_id}}">{{x.profesor.nombre}} {{x.profesor.apellido}}</option>
        																		        {%endif%}
        																		     {% endwith %}
        																		{%endif%}
        																	{%endif%}
																	{%endfor%}
																
															</select>
															</center>
														</div>
													</div>
													<div class="modal-footer">
														<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
													<button type="submit" class="btn btn-danger" name="btnquitar" value="OK">Quitar</button><button type="submit" class="btn btn-primary" name="btnguardar" value="OK">Guardar Cambios</button>
													</div>
												</div>
											</form>
										</div>
									</div>
								{%endif%}
							{%endif%}
						{%endfor%}
					</td>
				</tr>
			{%endif%}
		</tbody>
	</table>

<br>
<div class="container">
<div class="row">
    <div class="col">
        <table class="table table-hover bg-white table-bordered m-3" border>
		<thead class="text-center">
			<tr class="align-middle" style="background-color: yellow">
				<th style="background-color: yellow">ASIGNATURAS CON HORAS CARGADAS EN CURSO : {{hor.0.curso.nombre}}</th>
			</tr>
		</thead>
		<tbody class="text-center">
            {%for x in results2%}
			 {%if x.5 == hor.0.curso.id %}
    			<tr class="align-middle">
    				{%if x.4 < x.3 %}
    				<td style='color:red;'>
    			  	({{x.0}}) - {{x.2}}  - <bold>[{{x.4}} / {{x.3}}]</bold>
    				</td>
    				{%else%}
    				<td>
    			  	({{x.0}}) - {{x.2}}  - <bold>[{{x.4}} / {{x.3}}]</bold>
    				</td>
    				{%endif%}

    			</tr>
			{%endif%}
			{%endfor%}

		</tbody>
	</table>
    </div>
        <div class="col">
        <table class="table table-hover bg-white table-bordered m-3" border>
		<thead class="text-center">
			<tr class="align-middle" style="background-color: yellow">
				<th style="background-color: yellow">PROFES DEL CURSO : {{hor.0.curso.nombre}}</th>
			</tr>
		</thead>
		<tbody class="text-center">
			{%for x in results%}
    			<tr class="align-middle">
    				<td>
					{{x.2}}
    			  	{{x.3}}
    				</td>
    			</tr>
			{%endfor%}

		</tbody>
	</table>
    </div>
</div>
<div>
	<script>
		
	</script>
</div>
</div>
	{%if r%}
		<script> alertify.success('{{r}}');</script>
	{%endif%}

	{%if r2%}
		<script> alertify.error('{{r2}}');</script>
	{%endif%}
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
</body>
</html>